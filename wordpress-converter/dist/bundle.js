(()=>{var e,t,r={289:(e,t,r)=>{var n=r(147),s=r(17),o=r(843),i=s.join,a=s.dirname,c=n.accessSync&&function(e){try{n.accessSync(e)}catch(e){return!1}return!0}||n.existsSync||s.existsSync,l={arrow:process.env.NODE_BINDINGS_ARROW||" â†’ ",compiled:process.env.NODE_BINDINGS_COMPILED_DIR||"compiled",platform:process.platform,arch:process.arch,nodePreGyp:"node-v"+process.versions.modules+"-"+process.platform+"-"+process.arch,version:process.versions.node,bindings:"bindings.node",try:[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug","bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],["module_root","compiled","version","platform","arch","bindings"],["module_root","addon-build","release","install-root","bindings"],["module_root","addon-build","debug","install-root","bindings"],["module_root","addon-build","default","install-root","bindings"],["module_root","lib","binding","nodePreGyp","bindings"]]};e.exports=t=function(e){"string"==typeof e?e={bindings:e}:e||(e={}),Object.keys(l).map((function(t){t in e||(e[t]=l[t])})),e.module_root||(e.module_root=t.getRoot(t.getFileName())),".node"!=s.extname(e.bindings)&&(e.bindings+=".node");for(var r,n,o,a=require,c=[],u=0,f=e.try.length;u<f;u++){r=i.apply(null,e.try[u].map((function(t){return e[t]||t}))),c.push(r);try{return n=e.path?a.resolve(r):a(r),e.path||(n.path=r),n}catch(e){if("MODULE_NOT_FOUND"!==e.code&&"QUALIFIED_PATH_RESOLUTION_FAILED"!==e.code&&!/not find/i.test(e.message))throw e}}throw(o=new Error("Could not locate the bindings file. Tried:\n"+c.map((function(t){return e.arrow+t})).join("\n"))).tries=c,o},t.getFileName=function(e){var t,r=Error.prepareStackTrace,n=Error.stackTraceLimit;return Error.stackTraceLimit=10,Error.prepareStackTrace=function(r,n){for(var s=0,o=n.length;s<o;s++)if((t=n[s].getFileName())!==__filename){if(!e)return;if(t!==e)return}},Error.captureStackTrace({}),Error.prepareStackTrace=r,Error.stackTraceLimit=n,0===t.indexOf("file://")&&(t=o(t)),t},t.getRoot=function(e){for(var t,r=a(e);;){if("."===r&&(r=process.cwd()),c(i(r,"package.json"))||c(i(r,"node_modules")))return r;if(t===r)throw new Error('Could not find module root given file: "'+e+'". Do you have a `package.json` file? ');t=r,r=i(r,"..")}}},843:(e,t,r)=>{var n=r(17).sep||"/";e.exports=function(e){if("string"!=typeof e||e.length<=7||"file://"!=e.substring(0,7))throw new TypeError("must pass in a file:// URI to convert to a file path");var t=decodeURI(e.substring(7)),r=t.indexOf("/"),s=t.substring(0,r),o=t.substring(r+1);return"localhost"==s&&(s=""),s&&(s=n+n+s),o=o.replace(/^(.+)\|/,"$1:"),"\\"==n&&(o=o.replace(/\//g,"\\")),/^.+\:/.test(o)||(o=n+o),s+o}},374:(e,t)=>{"use strict";const r={};t.escapeJavaScript=function(e){if(!e)return"";let t="";for(let n=0;n<e.length;++n){const s=e.charCodeAt(n);r.isSafe(s)?t+=e[n]:t+=r.escapeJavaScriptChar(s)}return t},t.escapeHtml=function(e){if(!e)return"";let t="";for(let n=0;n<e.length;++n){const s=e.charCodeAt(n);r.isSafe(s)?t+=e[n]:t+=r.escapeHtmlChar(s)}return t},t.escapeJson=function(e){if(!e)return"";let t;return e.replace(/[<>&\u2028\u2029]/g,(e=>(t=e.charCodeAt(0),60===t?"\\u003c":62===t?"\\u003e":38===t?"\\u0026":8232===t?"\\u2028":"\\u2029")))},r.escapeJavaScriptChar=function(e){if(e>=256)return"\\u"+r.padLeft(""+e,4);const t=new Buffer(String.fromCharCode(e),"ascii").toString("hex");return"\\x"+r.padLeft(t,2)},r.escapeHtmlChar=function(e){const t=r.namedHtml[e];if(void 0!==t)return t;if(e>=256)return"&#"+e+";";const n=new Buffer(String.fromCharCode(e),"ascii").toString("hex");return"&#x"+r.padLeft(n,2)+";"},r.padLeft=function(e,t){for(;e.length<t;)e="0"+e;return e},r.isSafe=function(e){return void 0!==r.safeCharCodes[e]},r.namedHtml={38:"&amp;",60:"&lt;",62:"&gt;",34:"&quot;",160:"&nbsp;",162:"&cent;",163:"&pound;",164:"&curren;",169:"&copy;",174:"&reg;"},r.safeCharCodes=function(){const e={};for(let t=32;t<123;++t)(t>=97||t>=65&&t<=90||t>=48&&t<=57||32===t||46===t||44===t||45===t||58===t||95===t)&&(e[t]=null);return e}()},264:(e,t,r)=>{"use strict";const n=r(113),s=r(17),o=r(837),i=r(374),a={};t.clone=function(e,r){if("object"!=typeof e||null===e)return e;const n=(r=r||new Map).get(e);if(n)return n;let s,o=!1;if(Array.isArray(e))s=[],o=!0;else if(Buffer.isBuffer(e))s=new Buffer(e);else if(e instanceof Date)s=new Date(e.getTime());else if(e instanceof RegExp)s=new RegExp(e);else{const t=Object.getPrototypeOf(e);t&&t.isImmutable?s=e:(s=Object.create(t),o=!0)}if(r.set(e,s),o){const n=Object.getOwnPropertyNames(e);for(let o=0;o<n.length;++o){const i=n[o],a=Object.getOwnPropertyDescriptor(e,i);a&&(a.get||a.set)?Object.defineProperty(s,i,a):s[i]=t.clone(e[i],r)}}return s},t.merge=function(e,r,n,s){if(t.assert(e&&"object"==typeof e,"Invalid target value: must be an object"),t.assert(null==r||"object"==typeof r,"Invalid source value: must be null, undefined, or an object"),!r)return e;if(Array.isArray(r)){t.assert(Array.isArray(e),"Cannot merge array onto an object"),!1===s&&(e.length=0);for(let n=0;n<r.length;++n)e.push(t.clone(r[n]));return e}const o=Object.keys(r);for(let i=0;i<o.length;++i){const a=o[i];if("__proto__"===a)continue;const c=r[a];c&&"object"==typeof c?!e[a]||"object"!=typeof e[a]||Array.isArray(e[a])!==Array.isArray(c)||c instanceof Date||Buffer.isBuffer(c)||c instanceof RegExp?e[a]=t.clone(c):t.merge(e[a],c,n,s):(null!=c||!1!==n)&&(e[a]=c)}return e},t.applyToDefaults=function(e,r,n){if(t.assert(e&&"object"==typeof e,"Invalid defaults value: must be an object"),t.assert(!r||!0===r||"object"==typeof r,"Invalid options value: must be true, falsy or an object"),!r)return null;const s=t.clone(e);return!0===r?s:t.merge(s,r,!0===n,!1)},t.cloneWithShallow=function(e,r){if(!e||"object"!=typeof e)return e;const n=a.store(e,r),s=t.clone(e);return a.restore(s,e,n),s},a.store=function(e,r){const n={};for(let s=0;s<r.length;++s){const o=r[s],i=t.reach(e,o);void 0!==i&&(n[o]=i,a.reachSet(e,o,void 0))}return n},a.restore=function(e,t,r){const n=Object.keys(r);for(let s=0;s<n.length;++s){const o=n[s];a.reachSet(e,o,r[o]),a.reachSet(t,o,r[o])}},a.reachSet=function(e,t,r){const n=t.split(".");let s=e;for(let e=0;e<n.length;++e){const t=n[e];e+1===n.length&&(s[t]=r),s=s[t]}},t.applyToDefaultsWithShallow=function(e,r,n){if(t.assert(e&&"object"==typeof e,"Invalid defaults value: must be an object"),t.assert(!r||!0===r||"object"==typeof r,"Invalid options value: must be true, falsy or an object"),t.assert(n&&Array.isArray(n),"Invalid keys"),!r)return null;const s=t.cloneWithShallow(e,n);if(!0===r)return s;const o=a.store(r,n);return t.merge(s,r,!1,!1),a.restore(s,r,o),s},t.deepEqual=function(e,r,n,s){n=n||{prototype:!0};const o=typeof e;if(o!==typeof r)return!1;if("object"!==o||null===e||null===r)return e===r?0!==e||1/e==1/r:e!=e&&r!=r;if(-1!==(s=s||[]).indexOf(e))return!0;if(s.push(e),Array.isArray(e)){if(!Array.isArray(r))return!1;if(!n.part&&e.length!==r.length)return!1;for(let s=0;s<e.length;++s){if(n.part){let o=!1;for(let i=0;i<r.length;++i)if(t.deepEqual(e[s],r[i],n)){o=!0;break}return o}if(!t.deepEqual(e[s],r[s],n))return!1}return!0}if(Buffer.isBuffer(e)){if(!Buffer.isBuffer(r))return!1;if(e.length!==r.length)return!1;for(let t=0;t<e.length;++t)if(e[t]!==r[t])return!1;return!0}if(e instanceof Date)return r instanceof Date&&e.getTime()===r.getTime();if(e instanceof RegExp)return r instanceof RegExp&&e.toString()===r.toString();if(n.prototype&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(r))return!1;const i=Object.getOwnPropertyNames(e);if(!n.part&&i.length!==Object.getOwnPropertyNames(r).length)return!1;for(let o=0;o<i.length;++o){const a=i[o],c=Object.getOwnPropertyDescriptor(e,a);if(c.get){if(!t.deepEqual(c,Object.getOwnPropertyDescriptor(r,a),n,s))return!1}else if(!t.deepEqual(e[a],r[a],n,s))return!1}return!0},t.unique=(e,t)=>{let r;if(t){r=[];const n=new Set;e.forEach((e=>{const s=e[t];n.has(s)||(n.add(s),r.push(e))}))}else r=Array.from(new Set(e));return r},t.mapToObject=function(e,t){if(!e)return null;const r={};for(let n=0;n<e.length;++n)t?e[n][t]&&(r[e[n][t]]=!0):r[e[n]]=!0;return r},t.intersect=function(e,r,n){if(!e||!r)return[];const s=[],o=Array.isArray(e)?t.mapToObject(e):e,i={};for(let e=0;e<r.length;++e)if(o[r[e]]&&!i[r[e]]){if(n)return r[e];s.push(r[e]),i[r[e]]=!0}return n?null:s},t.contain=function(e,r,n){let s,o,i=null;if("object"!=typeof e||"object"!=typeof r||Array.isArray(e)||Array.isArray(r)?r=[].concat(r):(i=r,r=Object.keys(r)),n=n||{},t.assert(arguments.length>=2,"Insufficient arguments"),t.assert("string"==typeof e||"object"==typeof e,"Reference must be string or an object"),t.assert(r.length,"Values array cannot be empty"),n.deep){s=t.deepEqual;const e=n.hasOwnProperty("only"),r=n.hasOwnProperty("part");o={prototype:e?n.only:!!r&&!n.part,part:e?!n.only:!r||n.part}}else s=(e,t)=>e===t;let a=!1;const c=new Array(r.length);for(let e=0;e<c.length;++e)c[e]=0;if("string"==typeof e){let n="(";for(let e=0;e<r.length;++e){const s=r[e];t.assert("string"==typeof s,"Cannot compare string reference to non-string value"),n+=(e?"|":"")+t.escapeRegex(s)}const s=new RegExp(n+")","g");a=!!e.replace(s,((e,t)=>{const n=r.indexOf(t);return++c[n],""}))}else if(Array.isArray(e))for(let t=0;t<e.length;++t){let n=!1;for(let i=0;i<r.length&&!1===n;++i)n=s(r[i],e[t],o)&&i;!1!==n?++c[n]:a=!0}else{const t=Object.getOwnPropertyNames(e);for(let n=0;n<t.length;++n){const l=t[n],u=r.indexOf(l);if(-1!==u){if(i&&!s(i[l],e[l],o))return!1;++c[u]}else a=!0}}let l=!1;for(let e=0;e<c.length;++e)if(l=l||!!c[e],n.once&&c[e]>1||!n.part&&!c[e])return!1;return(!n.only||!a)&&l},t.flatten=function(e,r){const n=r||[];for(let r=0;r<e.length;++r)Array.isArray(e[r])?t.flatten(e[r],n):n.push(e[r]);return n},t.reach=function(e,r,n){if(!1===r||null==r)return e;"string"==typeof(n=n||{})&&(n={separator:n});const s=r.split(n.separator||".");let o=e;for(let e=0;e<s.length;++e){let i=s[e];if("-"===i[0]&&Array.isArray(o)&&(i=i.slice(1,i.length),i=o.length-i),!o||"object"!=typeof o&&"function"!=typeof o||!(i in o)||"object"!=typeof o&&!1===n.functions){t.assert(!n.strict||e+1===s.length,"Missing segment",i,"in reach path ",r),t.assert("object"==typeof o||!0===n.functions||"function"!=typeof o,"Invalid segment",i,"in reach path ",r),o=n.default;break}o=o[i]}return o},t.reachTemplate=function(e,r,n){return r.replace(/{([^}]+)}/g,((r,s)=>{const o=t.reach(e,s,n);return null==o?"":o}))},t.formatStack=function(e){const t=[];for(let r=0;r<e.length;++r){const n=e[r];t.push([n.getFileName(),n.getLineNumber(),n.getColumnNumber(),n.getFunctionName(),n.isConstructor()])}return t},t.formatTrace=function(e){const t=[];for(let r=0;r<e.length;++r){const n=e[r];t.push((n[4]?"new ":"")+n[3]+" ("+n[0]+":"+n[1]+":"+n[2]+")")}return t},t.callStack=function(e){const r=Error.prepareStackTrace;Error.prepareStackTrace=function(e,t){return t};const n={};Error.captureStackTrace(n,this);const s=n.stack;return Error.prepareStackTrace=r,t.formatStack(s).slice(1+e)},t.displayStack=function(e){const r=t.callStack(void 0===e?1:e+1);return t.formatTrace(r)},t.abortThrow=!1,t.abort=function(e,r){if(!0===t.abortThrow)throw new Error(e||"Unknown error");let n="";r||(n=t.displayStack(1).join("\n\t")),console.log("ABORT: "+e+"\n\t"+n),process.exit(1)},t.assert=function(e){if(e)return;if(2===arguments.length&&arguments[1]instanceof Error)throw arguments[1];let r=[];for(let e=1;e<arguments.length;++e)""!==arguments[e]&&r.push(arguments[e]);throw r=r.map((e=>"string"==typeof e?e:e instanceof Error?e.message:t.stringify(e))),new Error(r.join(" ")||"Unknown error")},t.Timer=function(){this.ts=0,this.reset()},t.Timer.prototype.reset=function(){this.ts=Date.now()},t.Timer.prototype.elapsed=function(){return Date.now()-this.ts},t.Bench=function(){this.ts=0,this.reset()},t.Bench.prototype.reset=function(){this.ts=t.Bench.now()},t.Bench.prototype.elapsed=function(){return t.Bench.now()-this.ts},t.Bench.now=function(){const e=process.hrtime();return 1e3*e[0]+e[1]/1e6},t.escapeRegex=function(e){return e.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")},t.base64urlEncode=function(e,r){return t.assert("string"==typeof e||Buffer.isBuffer(e),"value must be string or buffer"),(Buffer.isBuffer(e)?e:new Buffer(e,r||"binary")).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")},t.base64urlDecode=function(e,t){if("string"!=typeof e)return new Error("Value not a string");if(!/^[\w\-]*$/.test(e))return new Error("Invalid character");const r=new Buffer(e,"base64");return"buffer"===t?r:r.toString(t||"binary")},t.escapeHeaderAttribute=function(e){return t.assert(/^[ \w\!#\$%&'\(\)\*\+,\-\.\/\:;<\=>\?@\[\]\^`\{\|\}~\"\\]*$/.test(e),"Bad attribute value ("+e+")"),e.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')},t.escapeHtml=function(e){return i.escapeHtml(e)},t.escapeJavaScript=function(e){return i.escapeJavaScript(e)},t.escapeJson=function(e){return i.escapeJson(e)},t.nextTick=function(e){return function(){const t=arguments;process.nextTick((()=>{e.apply(null,t)}))}},t.once=function(e){if(e._hoekOnce)return e;let t=!1;const r=function(){t||(t=!0,e.apply(null,arguments))};return r._hoekOnce=!0,r},t.isInteger=Number.isSafeInteger,t.ignore=function(){},t.inherits=o.inherits,t.format=o.format,t.transform=function(e,r,n){t.assert(null==e||"object"==typeof e||Array.isArray(e),"Invalid source object: must be null, undefined, an object, or an array");const s="object"==typeof n&&null!==n&&n.separator||".";if(Array.isArray(e)){const s=[];for(let o=0;o<e.length;++o)s.push(t.transform(e[o],r,n));return s}const o={},i=Object.keys(r);for(let a=0;a<i.length;++a){const c=i[a],l=c.split(s),u=r[c];let f;t.assert("string"==typeof u,'All mappings must be "." delineated strings');let h=o;for(;l.length>1;)f=l.shift(),h[f]||(h[f]={}),h=h[f];f=l.shift(),h[f]=t.reach(e,u,n)}return o},t.uniqueFilename=function(e,t){t=t?"."!==t[0]?"."+t:t:"",e=s.resolve(e);const r=[Date.now(),process.pid,n.randomBytes(8).toString("hex")].join("-")+t;return s.join(e,r)},t.stringify=function(){try{return JSON.stringify.apply(null,arguments)}catch(e){return"[Cannot display object: "+e.message+"]"}},t.shallow=function(e){const t={},r=Object.keys(e);for(let n=0;n<r.length;++n){const s=r[n];t[s]=e[s]}return t}},196:(e,t,r)=>{"use strict";const n=r(477),s=r(837),o={hasOwn:Object.prototype.hasOwnProperty,indexOf:Array.prototype.indexOf,defaultThreshold:16,maxIPv6Groups:8,categories:{valid:1,dnsWarn:7,rfc5321:15,cfws:31,deprecated:63,rfc5322:127,error:255},diagnoses:{valid:0,rfc5321TLD:9,rfc5321TLDNumeric:10,rfc5321QuotedString:11,rfc5321AddressLiteral:12,cfwsComment:17,cfwsFWS:18,undesiredNonAscii:25,deprecatedLocalPart:33,deprecatedFWS:34,deprecatedQTEXT:35,deprecatedQP:36,deprecatedComment:37,deprecatedCTEXT:38,deprecatedIPv6:39,deprecatedCFWSNearAt:49,rfc5322Domain:65,rfc5322TooLong:66,rfc5322LocalTooLong:67,rfc5322DomainTooLong:68,rfc5322LabelTooLong:69,rfc5322DomainLiteral:70,rfc5322DomainLiteralOBSDText:71,rfc5322IPv6GroupCount:72,rfc5322IPv62x2xColon:73,rfc5322IPv6BadCharacter:74,rfc5322IPv6MaxGroups:75,rfc5322IPv6ColonStart:76,rfc5322IPv6ColonEnd:77,errExpectingDTEXT:129,errNoLocalPart:130,errNoDomain:131,errConsecutiveDots:132,errATEXTAfterCFWS:133,errATEXTAfterQS:134,errATEXTAfterDomainLiteral:135,errExpectingQPair:136,errExpectingATEXT:137,errExpectingQTEXT:138,errExpectingCTEXT:139,errBackslashEnd:140,errDotStart:141,errDotEnd:142,errDomainHyphenStart:143,errDomainHyphenEnd:144,errUnclosedQuotedString:145,errUnclosedComment:146,errUnclosedDomainLiteral:147,errFWSCRLFx2:148,errFWSCRLFEnd:149,errCRNoLF:150,errUnknownTLD:160,errDomainTooShort:161,errDotAfterDomainLiteral:162},components:{localpart:0,domain:1,literal:2,contextComment:3,contextFWS:4,contextQuotedString:5,contextQuotedPair:6}};o.specials=function(){const e='()<>[]:;@\\,."',t=new Array(256);t.fill(!1);for(let r=0;r<e.length;++r)t[e.codePointAt(r)]=!0;return function(e){return t[e]}}(),o.c0Controls=function(){const e=new Array(256);e.fill(!1);for(let t=0;t<33;++t)e[t]=!0;return function(t){return e[t]}}(),o.c1Controls=function(){const e=new Array(256);e.fill(!1);for(let t=127;t<160;++t)e[t]=!0;return function(t){return e[t]}}(),o.regex={ipV4:/\b(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipV6:/^[a-fA-F\d]{0,4}$/},o.normalizeSupportsNul="\0"==="\0".normalize("NFC"),o.nulNormalize=function(e){return e.split("\0").map((e=>e.normalize("NFC"))).join("\0")},o.normalize=function(e){return e.normalize("NFC")},o.normalizeSupportsNul||(o.normalize=function(e){return e.indexOf("\0")>=0?o.nulNormalize(e):e.normalize("NFC")}),o.checkIpV6=function(e){return e.every((e=>o.regex.ipV6.test(e)))},o.isIterable=Array.isArray,"undefined"!=typeof Symbol&&(o.isIterable=e=>Array.isArray(e)||!!e&&"object"==typeof e&&"function"==typeof e[Symbol.iterator]),o._isSet=e=>e instanceof Set,o._isMap=e=>e instanceof Map,o.isSet=s.types&&s.types.isSet||o._isSet,o.isMap=s.types&&s.types.isMap||o._isMap,o.normalizeTable=function(e){return o.isSet(e)||Array.isArray(e)?e:o.isMap(e)?e.keys():Object.keys(e)},o.canonicalizeAtom=function(e){return n.toASCII(e).toLowerCase()},o.includesMapped=function(e,t,r){for(const n of e)if(r===t(n))return!0;return!1},o.validDomain=function(e,t){const r=o.canonicalizeAtom(e);return t.tldBlacklist?!o.includesMapped(o.normalizeTable(t.tldBlacklist),o.canonicalizeAtom,r):o.includesMapped(o.normalizeTable(t.tldWhitelist),o.canonicalizeAtom,r)},o.hasDomainLiteralThenAtom=function(e){let t=!1;for(let r=0;r<e.length;++r)if("["===e[r][0])t=!0;else if(t)return!0;return!1},t.validate=o.validate=function(e,t,r){if(t=t||{},"string"!=typeof e)throw new TypeError("expected string email");let s,i;if(e=o.normalize(e),"function"==typeof t&&(r=t,t={}),"function"!=typeof r&&(r=null),"number"==typeof t.errorLevel?(s=!0,i=t.errorLevel):(s=!!t.errorLevel,i=o.diagnoses.valid),t.tldWhitelist)if("string"==typeof t.tldWhitelist)t.tldWhitelist=[t.tldWhitelist];else if("object"!=typeof t.tldWhitelist)throw new TypeError("expected array or object tldWhitelist");if(t.tldBlacklist)if("string"==typeof t.tldBlacklist)t.tldBlacklist=[t.tldBlacklist];else if("object"!=typeof t.tldBlacklist)throw new TypeError("expected array or object tldBlacklist");if(t.minDomainAtoms&&(t.minDomainAtoms!==(0|+t.minDomainAtoms)||t.minDomainAtoms<0))throw new TypeError("expected positive integer minDomainAtoms");if(t.excludeDiagnoses){if(!o.isIterable(t.excludeDiagnoses))throw new TypeError("expected iterable excludeDiagnoses");o.isSet(t.excludeDiagnoses)||(t.excludeDiagnoses=new Set(t.excludeDiagnoses))}let a=o.diagnoses.valid;const c=e=>{!(e>a)||t.excludeDiagnoses&&t.excludeDiagnoses.has(e)||(a=e)};void 0!==t.allowUnicode&&!t.allowUnicode&&/[^\x00-\x7f]/.test(e)&&c(o.diagnoses.undesiredNonAscii);const l={now:o.components.localpart,prev:o.components.localpart,stack:[o.components.localpart]};let u="";const f={local:"",domain:""},h={locals:[""],domains:[""]};let p,d=0,g=0,m=0,y=!1,b=!1;const v=e.length;let _;for(let t=0;t<v;t+=_.length){switch(_=String.fromCodePoint(e.codePointAt(t)),l.now){case o.components.localpart:switch(_){case"(":0===g?c(0===d?o.diagnoses.cfwsComment:o.diagnoses.deprecatedComment):(c(o.diagnoses.cfwsComment),b=!0),l.stack.push(l.now),l.now=o.components.contextComment;break;case".":0===g?c(0===d?o.diagnoses.errDotStart:o.diagnoses.errConsecutiveDots):(b&&c(o.diagnoses.deprecatedLocalPart),b=!1,g=0,++d,f.local+=_,h.locals[d]="");break;case'"':0===g?(c(0===d?o.diagnoses.rfc5321QuotedString:o.diagnoses.deprecatedLocalPart),f.local+=_,h.locals[d]+=_,g+=Buffer.byteLength(_,"utf8"),b=!0,l.stack.push(l.now),l.now=o.components.contextQuotedString):c(o.diagnoses.errExpectingATEXT);break;case"\r":if(v===++t||"\n"!==e[t]){c(o.diagnoses.errCRNoLF);break}case" ":case"\t":0===g?c(0===d?o.diagnoses.cfwsFWS:o.diagnoses.deprecatedFWS):b=!0,l.stack.push(l.now),l.now=o.components.contextFWS,u=_;break;case"@":if(1!==l.stack.length)throw new Error("unexpected item on context stack");0===f.local.length?c(o.diagnoses.errNoLocalPart):0===g?c(o.diagnoses.errDotEnd):Buffer.byteLength(f.local,"utf8")>64?c(o.diagnoses.rfc5322LocalTooLong):l.prev!==o.components.contextComment&&l.prev!==o.components.contextFWS||c(o.diagnoses.deprecatedCFWSNearAt),l.now=o.components.domain,l.stack[0]=o.components.domain,d=0,g=0,b=!1;break;default:if(b)switch(l.prev){case o.components.contextComment:case o.components.contextFWS:c(o.diagnoses.errATEXTAfterCFWS);break;case o.components.contextQuotedString:c(o.diagnoses.errATEXTAfterQS);break;default:throw new Error("more atext found where none is allowed, but unrecognized prev context: "+l.prev)}else l.prev=l.now,p=_.codePointAt(0),(o.specials(p)||o.c0Controls(p)||o.c1Controls(p))&&c(o.diagnoses.errExpectingATEXT),f.local+=_,h.locals[d]+=_,g+=Buffer.byteLength(_,"utf8")}break;case o.components.domain:switch(_){case"(":0===g?c(0===d?o.diagnoses.deprecatedCFWSNearAt:o.diagnoses.deprecatedComment):(b=!0,c(o.diagnoses.cfwsComment)),l.stack.push(l.now),l.now=o.components.contextComment;break;case".":const r=n.toASCII(h.domains[d]).length;0===g?c(0===d?o.diagnoses.errDotStart:o.diagnoses.errConsecutiveDots):y?c(o.diagnoses.errDomainHyphenEnd):r>63&&c(o.diagnoses.rfc5322LabelTooLong),b=!1,g=0,++d,h.domains[d]="",f.domain+=_;break;case"[":0===h.domains[d].length?(f.domain.length&&c(o.diagnoses.errDotAfterDomainLiteral),b=!0,g+=Buffer.byteLength(_,"utf8"),l.stack.push(l.now),l.now=o.components.literal,f.domain+=_,h.domains[d]+=_,f.literal=""):c(o.diagnoses.errExpectingATEXT);break;case"\r":if(v===++t||"\n"!==e[t]){c(o.diagnoses.errCRNoLF);break}case" ":case"\t":0===g?c(0===d?o.diagnoses.deprecatedCFWSNearAt:o.diagnoses.deprecatedFWS):(c(o.diagnoses.cfwsFWS),b=!0),l.stack.push(l.now),l.now=o.components.contextFWS,u=_;break;default:if(b)switch(l.prev){case o.components.contextComment:case o.components.contextFWS:c(o.diagnoses.errATEXTAfterCFWS);break;case o.components.literal:c(o.diagnoses.errATEXTAfterDomainLiteral);break;default:throw new Error("more atext found where none is allowed, but unrecognized prev context: "+l.prev)}p=_.codePointAt(0),y=!1,o.specials(p)||o.c0Controls(p)||o.c1Controls(p)?c(o.diagnoses.errExpectingATEXT):"-"===_?(0===g&&c(o.diagnoses.errDomainHyphenStart),y=!0):(p<48||p>122&&p<192||p>57&&p<65||p>90&&p<97)&&c(o.diagnoses.rfc5322Domain),f.domain+=_,h.domains[d]+=_,g+=Buffer.byteLength(_,"utf8")}break;case o.components.literal:switch(_){case"]":if(a<o.categories.deprecated){let e=-1,t=f.literal;const r=o.regex.ipV4.exec(t);if(r&&(e=r.index,0!==e&&(t=t.slice(0,e)+"0:0")),0===e)c(o.diagnoses.rfc5321AddressLiteral);else if("ipv6:"!==t.slice(0,5).toLowerCase())c(o.diagnoses.rfc5322DomainLiteral);else{const r=t.slice(5);let n=o.maxIPv6Groups;const s=r.split(":");e=r.indexOf("::"),~e?e!==r.lastIndexOf("::")?c(o.diagnoses.rfc5322IPv62x2xColon):(0!==e&&e!==r.length-2||++n,s.length>n?c(o.diagnoses.rfc5322IPv6MaxGroups):s.length===n&&c(o.diagnoses.deprecatedIPv6)):s.length!==n&&c(o.diagnoses.rfc5322IPv6GroupCount),":"===r[0]&&":"!==r[1]?c(o.diagnoses.rfc5322IPv6ColonStart):":"===r[r.length-1]&&":"!==r[r.length-2]?c(o.diagnoses.rfc5322IPv6ColonEnd):o.checkIpV6(s)?c(o.diagnoses.rfc5321AddressLiteral):c(o.diagnoses.rfc5322IPv6BadCharacter)}}else c(o.diagnoses.rfc5322DomainLiteral);f.domain+=_,h.domains[d]+=_,g+=Buffer.byteLength(_,"utf8"),l.prev=l.now,l.now=l.stack.pop();break;case"\\":c(o.diagnoses.rfc5322DomainLiteralOBSDText),l.stack.push(l.now),l.now=o.components.contextQuotedPair;break;case"\r":if(v===++t||"\n"!==e[t]){c(o.diagnoses.errCRNoLF);break}case" ":case"\t":c(o.diagnoses.cfwsFWS),l.stack.push(l.now),l.now=o.components.contextFWS,u=_;break;default:if(p=_.codePointAt(0),127!==p&&o.c1Controls(p)||0===p||"["===_){c(o.diagnoses.errExpectingDTEXT);break}(o.c0Controls(p)||127===p)&&c(o.diagnoses.rfc5322DomainLiteralOBSDText),f.literal+=_,f.domain+=_,h.domains[d]+=_,g+=Buffer.byteLength(_,"utf8")}break;case o.components.contextQuotedString:switch(_){case"\\":l.stack.push(l.now),l.now=o.components.contextQuotedPair;break;case"\r":if(v===++t||"\n"!==e[t]){c(o.diagnoses.errCRNoLF);break}case"\t":f.local+=" ",h.locals[d]+=" ",g+=Buffer.byteLength(_,"utf8"),c(o.diagnoses.cfwsFWS),l.stack.push(l.now),l.now=o.components.contextFWS,u=_;break;case'"':f.local+=_,h.locals[d]+=_,g+=Buffer.byteLength(_,"utf8"),l.prev=l.now,l.now=l.stack.pop();break;default:p=_.codePointAt(0),127!==p&&o.c1Controls(p)||0===p||10===p?c(o.diagnoses.errExpectingQTEXT):(o.c0Controls(p)||127===p)&&c(o.diagnoses.deprecatedQTEXT),f.local+=_,h.locals[d]+=_,g+=Buffer.byteLength(_,"utf8")}break;case o.components.contextQuotedPair:p=_.codePointAt(0),127!==p&&o.c1Controls(p)?c(o.diagnoses.errExpectingQPair):(p<31&&9!==p||127===p)&&c(o.diagnoses.deprecatedQP),l.prev=l.now,l.now=l.stack.pop();const r="\\"+_;switch(l.now){case o.components.contextComment:break;case o.components.contextQuotedString:f.local+=r,h.locals[d]+=r,g+=2;break;case o.components.literal:f.domain+=r,h.domains[d]+=r,g+=2;break;default:throw new Error("quoted pair logic invoked in an invalid context: "+l.now)}break;case o.components.contextComment:switch(_){case"(":l.stack.push(l.now),l.now=o.components.contextComment;break;case")":l.prev=l.now,l.now=l.stack.pop();break;case"\\":l.stack.push(l.now),l.now=o.components.contextQuotedPair;break;case"\r":if(v===++t||"\n"!==e[t]){c(o.diagnoses.errCRNoLF);break}case" ":case"\t":c(o.diagnoses.cfwsFWS),l.stack.push(l.now),l.now=o.components.contextFWS,u=_;break;default:if(p=_.codePointAt(0),0===p||10===p||127!==p&&o.c1Controls(p)){c(o.diagnoses.errExpectingCTEXT);break}(o.c0Controls(p)||127===p)&&c(o.diagnoses.deprecatedCTEXT)}break;case o.components.contextFWS:if("\r"===u){if("\r"===_){c(o.diagnoses.errFWSCRLFx2);break}++m>1?c(o.diagnoses.deprecatedFWS):m=1}switch(_){case"\r":v!==++t&&"\n"===e[t]||c(o.diagnoses.errCRNoLF);break;case" ":case"\t":break;default:"\r"===u&&c(o.diagnoses.errFWSCRLFEnd),m=0,l.prev=l.now,l.now=l.stack.pop(),--t}u=_;break;default:throw new Error("unknown context: "+l.now)}if(a>o.categories.rfc5322)break}if(a<o.categories.rfc5322){const e=n.toASCII(f.domain).length;if(l.now===o.components.contextQuotedString)c(o.diagnoses.errUnclosedQuotedString);else if(l.now===o.components.contextQuotedPair)c(o.diagnoses.errBackslashEnd);else if(l.now===o.components.contextComment)c(o.diagnoses.errUnclosedComment);else if(l.now===o.components.literal)c(o.diagnoses.errUnclosedDomainLiteral);else if("\r"===_)c(o.diagnoses.errFWSCRLFEnd);else if(0===f.domain.length)c(o.diagnoses.errNoDomain);else if(0===g)c(o.diagnoses.errDotEnd);else if(y)c(o.diagnoses.errDomainHyphenEnd);else if(e>255)c(o.diagnoses.rfc5322DomainTooLong);else if(Buffer.byteLength(f.local,"utf8")+e+1>254)c(o.diagnoses.rfc5322TooLong);else if(g>63)c(o.diagnoses.rfc5322LabelTooLong);else if(t.minDomainAtoms&&h.domains.length<t.minDomainAtoms&&(1!==h.domains.length||"["!==h.domains[0][0]))c(o.diagnoses.errDomainTooShort);else if(o.hasDomainLiteralThenAtom(h.domains))c(o.diagnoses.errDotAfterDomainLiteral);else if(t.tldWhitelist||t.tldBlacklist){const e=h.domains[d];o.validDomain(e,t)||c(o.diagnoses.errUnknownTLD)}}a<o.categories.dnsWarn&&h.domains[d].codePointAt(0)<=57&&c(o.diagnoses.rfc5321TLDNumeric),a<i&&(a=o.diagnoses.valid);const w=s?a:a<o.defaultThreshold;return r&&r(w),w},t.diagnoses=o.validate.diagnoses=function(){const e={},t=Object.keys(o.diagnoses);for(let r=0;r<t.length;++r){const n=t[r];e[n]=o.diagnoses[n]}return e}(),t.normalize=o.normalize},153:(e,t,r)=>{"use strict";const n=r(14),s=r(763);t.schema=function(e,t){return null!=t&&"object"==typeof t?t.isJoi?t:Array.isArray(t)?e.alternatives().try(t):t instanceof RegExp?e.string().regex(t):t instanceof Date?e.date().valid(t):e.object().keys(t):"string"==typeof t?e.string().valid(t):"number"==typeof t?e.number().valid(t):"boolean"==typeof t?e.boolean().valid(t):s.isRef(t)?e.valid(t):(n.assert(null===t,"Invalid schema content:",t),e.valid(null))},t.ref=function(e){return s.isRef(e)?e:s.create(e)}},724:(e,t,r)=>{"use strict";const n=r(14),s=r(335),o={annotations:Symbol("joi-annotations"),stringify:function(e,r){const n=typeof e;if(null===e)return"null";if("string"===n)return e;if(e instanceof t.Err||"function"===n||"symbol"===n)return e.toString();if("object"===n){if(Array.isArray(e)){let t="";for(let n=0;n<e.length;++n)t=t+(t.length?", ":"")+o.stringify(e[n],r);return r?"["+t+"]":t}return e.toString()}return JSON.stringify(e)}};t.Err=class{constructor(e,t,r,n,o,i,a){this.isJoi=!0,this.type=e,this.context=t||{},this.context.key=r.path[r.path.length-1],this.context.label=r.key,this.path=r.path,this.options=n,this.flags=o,this.message=i,this.template=a;const c=this.options.language;this.flags.label?this.context.label=this.flags.label:!c||""!==this.context.label&&null!==this.context.label||(this.context.label=c.root||s.errors.root)}toString(){if(this.message)return this.message;let e;this.template&&(e=this.template);const t=this.options.language;if(e=e||n.reach(t,this.type)||n.reach(s.errors,this.type),void 0===e)return`Error code "${this.type}" is not defined, your custom type is missing the correct language definition`;let r=n.reach(t,"messages.wrapArrays");if("boolean"!=typeof r&&(r=s.errors.messages.wrapArrays),null===e){const e=o.stringify(this.context.reason,r);return r?e.slice(1,-1):e}const i=/\{\{\!?label\}\}/.test(e),a=e.length>2&&"!"===e[0]&&"!"===e[1];if(a&&(e=e.slice(2)),!i&&!a){const r=n.reach(t,"key");e="string"==typeof r?r+e:n.reach(s.errors,"key")+e}return e.replace(/\{\{(\!?)([^}]+)\}\}/g,((e,t,s)=>{const i=n.reach(this.context,s),a=o.stringify(i,r);return t&&this.options.escapeHtml?n.escapeHtml(a):a}))}},t.create=function(e,r,n,s,o,i,a){return new t.Err(e,r,n,s,o,i,a)},t.process=function(e,t){if(!e||!e.length)return null;let r="";const n=[],s=function(e,t){for(let o=0;o<e.length;++o){const i=e[o];if(i instanceof Error)return i;if(i.flags.error&&"function"!=typeof i.flags.error)return i.flags.error;let a;if(void 0===t&&(a=i.toString(),r=r+(r?". ":"")+a),i.context.reason&&i.context.reason.length){const e=s(i.context.reason,i.path);if(e)return e}else n.push({message:a||i.toString(),path:i.path,type:i.type,context:i.context})}},i=s(e);if(i)return i;const a=new Error(r);return a.isJoi=!0,a.name="ValidationError",a.details=n,a._object=t,a.annotate=o.annotate,a},o.safeStringify=function(e,t){return JSON.stringify(e,o.serializer(),t)},o.serializer=function(){const e=[],t=[],r=(r,n)=>t[0]===n?"[Circular ~]":"[Circular ~."+e.slice(0,t.indexOf(n)).join(".")+"]";return function(n,s){if(t.length>0){const o=t.indexOf(this);~o?(t.length=o+1,e.length=o+1,e[o]=n):(t.push(this),e.push(n)),~t.indexOf(s)&&(s=r.call(this,n,s))}else t.push(s);if(s){const e=s[o.annotations];if(e){if(Array.isArray(s)){const t=[];for(let r=0;r<s.length;++r)e.errors[r]&&t.push(`_$idx$_${e.errors[r].sort().join(", ")}_$end$_`),t.push(s[r]);s=t}else{const t=Object.keys(e.errors);for(let r=0;r<t.length;++r){const n=t[r];s[`${n}_$key$_${e.errors[n].sort().join(", ")}_$end$_`]=s[n],s[n]=void 0}const r=Object.keys(e.missing);for(let t=0;t<r.length;++t){const n=r[t];s[`_$miss$_${n}|${e.missing[n]}_$end$_`]="__missing__"}}return s}}return s===1/0||s===-1/0||Number.isNaN(s)||"function"==typeof s||"symbol"==typeof s?"["+s.toString()+"]":s}},o.annotate=function(e){const t=e?"":"[31m",r=e?"":"[41m",s=e?"":"[0m";if("object"!=typeof this._object)return this.details[0].message;const i=n.clone(this._object||{});for(let e=this.details.length-1;e>=0;--e){const t=e+1,r=this.details[e],n=r.path;let s=i;for(let e=0;;++e){const i=n[e];if(s.isImmutable&&(s=s.clone()),!(e+1<n.length&&s[i]&&"string"!=typeof s[i])){const e=s[o.annotations]=s[o.annotations]||{errors:{},missing:{}},n=s[i],a=i||r.context.label;void 0!==n?(e.errors[a]=e.errors[a]||[],e.errors[a].push(t)):e.missing[a]=t;break}s=s[i]}}let a=o.safeStringify(i,2).replace(/_\$key\$_([, \d]+)_\$end\$_\"/g,((e,r)=>`" ${t}[${r}]${s}`)).replace(/\"_\$miss\$_([^\|]+)\|(\d+)_\$end\$_\"\: \"__missing__\"/g,((e,n,o)=>`${r}"${n}"${s}${t} [${o}]: -- missing --${s}`)).replace(/\s*\"_\$idx\$_([, \d]+)_\$end\$_\",?\n(.*)/g,((e,r,n)=>`\n${n} ${t}[${r}]${s}`)).replace(/"\[(NaN|Symbol.*|-?Infinity|function.*|\(.*)\]"/g,((e,t)=>t));a=`${a}\n${t}`;for(let e=0;e<this.details.length;++e)a=`${a}\n[${e+1}] ${this.details[e].message}`;return a+=s,a}},456:(e,t,r)=>{"use strict";const n=r(14),s=r(589),o=r(153),i=r(724),a=r(628),c=r(763),l=r(242),u={alternatives:r(103),array:r(537),boolean:r(208),binary:r(729),date:r(761),func:r(158),number:r(598),object:r(614),string:r(384),symbol:r(866),callWithDefaults:function(e,t){return n.assert(this,"Must be invoked on a Joi instance."),this._defaults&&(e=this._defaults(e)),e._currentJoi=this,e._init(...t)},root:function(){const e=new s,t=e.clone();return s.prototype._currentJoi=t,t._currentJoi=t,t.any=function(...t){return n.assert(0===t.length,"Joi.any() does not allow arguments."),u.callWithDefaults.call(this,e,t)},t.alternatives=t.alt=function(...e){return u.callWithDefaults.call(this,u.alternatives,e)},t.array=function(...e){return n.assert(0===e.length,"Joi.array() does not allow arguments."),u.callWithDefaults.call(this,u.array,e)},t.boolean=t.bool=function(...e){return n.assert(0===e.length,"Joi.boolean() does not allow arguments."),u.callWithDefaults.call(this,u.boolean,e)},t.binary=function(...e){return n.assert(0===e.length,"Joi.binary() does not allow arguments."),u.callWithDefaults.call(this,u.binary,e)},t.date=function(...e){return n.assert(0===e.length,"Joi.date() does not allow arguments."),u.callWithDefaults.call(this,u.date,e)},t.func=function(...e){return n.assert(0===e.length,"Joi.func() does not allow arguments."),u.callWithDefaults.call(this,u.func,e)},t.number=function(...e){return n.assert(0===e.length,"Joi.number() does not allow arguments."),u.callWithDefaults.call(this,u.number,e)},t.object=function(...e){return u.callWithDefaults.call(this,u.object,e)},t.string=function(...e){return n.assert(0===e.length,"Joi.string() does not allow arguments."),u.callWithDefaults.call(this,u.string,e)},t.symbol=function(...e){return n.assert(0===e.length,"Joi.symbol() does not allow arguments."),u.callWithDefaults.call(this,u.symbol,e)},t.ref=function(...e){return c.create(...e)},t.isRef=function(e){return c.isRef(e)},t.validate=function(r,...n){const s=n[n.length-1],o="function"==typeof s?s:null,i=n.length-(o?1:0);if(0===i)return e.validate(r,o);const a=2===i?n[1]:void 0;return t.compile(n[0])._validateWithOptions(r,a,o)},t.describe=function(...r){return(r.length?t.compile(r[0]):e).describe()},t.compile=function(e){try{return o.schema(this,e)}catch(e){throw e.hasOwnProperty("path")&&(e.message=e.message+"("+e.path+")"),e}},t.assert=function(e,r,n){t.attempt(e,r,n)},t.attempt=function(e,r,n){const s=t.validate(e,r),o=s.error;if(o){if(!n)throw"function"==typeof o.annotate&&(o.message=o.annotate()),o;if(!(n instanceof Error))throw"function"==typeof o.annotate&&(o.message=`${n} ${o.annotate()}`),o;throw n}return s.value},t.reach=function(e,t){n.assert(e&&e instanceof s,"you must provide a joi schema"),n.assert(Array.isArray(t)||"string"==typeof t,"path must be a string or an array of strings");const r=(e,t)=>{if(!t.length)return e;const n=e._inner.children;if(!n)return;const s=t.shift();for(let e=0;e<n.length;++e){const o=n[e];if(o.key===s)return r(o.schema,t)}},o="string"==typeof t?t?t.split("."):[]:t.slice();return r(e,o)},t.lazy=function(e){return a.set(e)},t.defaults=function(e){n.assert("function"==typeof e,"Defaults must be a function");let t=Object.create(this.any());return t=e(t),n.assert(t&&t instanceof this.constructor,"defaults() must return a schema"),Object.assign(t,this,t.clone()),t._defaults=t=>(this._defaults&&(t=this._defaults(t),n.assert(t instanceof this.constructor,"defaults() must return a schema")),t=e(t),n.assert(t instanceof this.constructor,"defaults() must return a schema"),t),t},t.extend=function(...e){const r=n.flatten(e);n.assert(r.length>0,"You need to provide at least one extension"),this.assert(r,t.extensionsSchema);const a=Object.create(this.any());Object.assign(a,this);for(let e=0;e<r.length;++e){let f=r[e];"function"==typeof f&&(f=f(a)),this.assert(f,t.extensionSchema);const h=(f.base||this.any()).clone(),p=h.constructor,d=class extends p{constructor(){super(),f.base&&Object.assign(this,h),this._type=f.name,f.language&&(this._settings=l.concat(this._settings,{language:{[f.name]:f.language}}))}};if(f.coerce&&(d.prototype._coerce=function(e,t,r){if(p.prototype._coerce){const n=p.prototype._coerce.call(this,e,t,r);if(n.errors)return n;e=n.value}const n=f.coerce.call(this,e,t,r);return n instanceof i.Err?{value:e,errors:n}:{value:n}}),f.pre&&(d.prototype._base=function(e,t,r){if(p.prototype._base){const n=p.prototype._base.call(this,e,t,r);if(n.errors)return n;e=n.value}const n=f.pre.call(this,e,t,r);return n instanceof i.Err?{value:e,errors:n}:{value:n}}),f.rules)for(let e=0;e<f.rules.length;++e){const t=f.rules[e],r=t.params?t.params instanceof s?t.params._inner.children.map((e=>e.key)):Object.keys(t.params):[],i=t.params?o.schema(this,t.params):null;d.prototype[t.name]=function(...e){if(e.length>r.length)throw new Error("Unexpected number of arguments");let o,l=!1,u={};for(let t=0;t<r.length;++t)u[r[t]]=e[t],!l&&c.isRef(e[t])&&(l=!0);if(i&&(u=a.attempt(u,i)),t.validate){const e=function(e,r,n){return t.validate.call(this,u,e,r,n)};o=this._test(t.name,u,e,{description:t.description,hasRef:l})}else o=this.clone();if(t.setup){const e=t.setup.call(o,u);void 0!==e&&(n.assert(e instanceof s,`Setup of extension Joi.${this._type}().${t.name}() must return undefined or a Joi object`),o=e)}return o}}f.describe&&(d.prototype.describe=function(){const e=p.prototype.describe.call(this);return f.describe.call(this,e)});const g=new d;a[f.name]=function(...e){return u.callWithDefaults.call(this,g,e)}}return a},t.extensionSchema=u.object.keys({base:u.object.type(s,"Joi object"),name:u.string.required(),coerce:u.func.arity(3),pre:u.func.arity(3),language:u.object,describe:u.func.arity(1),rules:u.array.items(u.object.keys({name:u.string.required(),setup:u.func.arity(1),validate:u.func.arity(4),params:[u.object.pattern(/.*/,u.object.type(s,"Joi object")),u.object.type(u.object.constructor,"Joi object")],description:[u.string,u.func.arity(1)]}).or("setup","validate"))}).strict(),t.extensionsSchema=u.array.items([u.object,u.func.arity(1)]).strict(),t.version=r(45).i8,t}};e.exports=u.root()},335:(e,t)=>{"use strict";t.errors={root:"value",key:'"{{!label}}" ',messages:{wrapArrays:!0},any:{unknown:"is not allowed",invalid:"contains an invalid value",empty:"is not allowed to be empty",required:"is required",allowOnly:"must be one of {{valids}}",default:"threw an error when running default method"},alternatives:{base:"not matching any of the allowed alternatives",child:null},array:{base:"must be an array",includes:"at position {{pos}} does not match any of the allowed types",includesSingle:'single value of "{{!label}}" does not match any of the allowed types',includesOne:"at position {{pos}} fails because {{reason}}",includesOneSingle:'single value of "{{!label}}" fails because {{reason}}',includesRequiredUnknowns:"does not contain {{unknownMisses}} required value(s)",includesRequiredKnowns:"does not contain {{knownMisses}}",includesRequiredBoth:"does not contain {{knownMisses}} and {{unknownMisses}} other required value(s)",excludes:"at position {{pos}} contains an excluded value",excludesSingle:'single value of "{{!label}}" contains an excluded value',min:"must contain at least {{limit}} items",max:"must contain less than or equal to {{limit}} items",length:"must contain {{limit}} items",ordered:"at position {{pos}} fails because {{reason}}",orderedLength:"at position {{pos}} fails because array must contain at most {{limit}} items",ref:'references "{{ref}}" which is not a positive integer',sparse:"must not be a sparse array",unique:"position {{pos}} contains a duplicate value"},boolean:{base:"must be a boolean"},binary:{base:"must be a buffer or a string",min:"must be at least {{limit}} bytes",max:"must be less than or equal to {{limit}} bytes",length:"must be {{limit}} bytes"},date:{base:"must be a number of milliseconds or valid date string",format:"must be a string with one of the following formats {{format}}",strict:"must be a valid date",min:'must be larger than or equal to "{{limit}}"',max:'must be less than or equal to "{{limit}}"',less:'must be less than "{{limit}}"',greater:'must be greater than "{{limit}}"',isoDate:"must be a valid ISO 8601 date",timestamp:{javascript:"must be a valid timestamp or number of milliseconds",unix:"must be a valid timestamp or number of seconds"},ref:'references "{{ref}}" which is not a date'},function:{base:"must be a Function",arity:"must have an arity of {{n}}",minArity:"must have an arity greater or equal to {{n}}",maxArity:"must have an arity lesser or equal to {{n}}",ref:"must be a Joi reference",class:"must be a class"},lazy:{base:"!!schema error: lazy schema must be set",schema:"!!schema error: lazy schema function must return a schema"},object:{base:"must be an object",child:'!!child "{{!child}}" fails because {{reason}}',min:"must have at least {{limit}} children",max:"must have less than or equal to {{limit}} children",length:"must have {{limit}} children",allowUnknown:'!!"{{!child}}" is not allowed',with:'!!"{{mainWithLabel}}" missing required peer "{{peerWithLabel}}"',without:'!!"{{mainWithLabel}}" conflict with forbidden peer "{{peerWithLabel}}"',missing:"must contain at least one of {{peersWithLabels}}",xor:"contains a conflict between exclusive peers {{peersWithLabels}}",or:"must contain at least one of {{peersWithLabels}}",and:"contains {{presentWithLabels}} without its required peers {{missingWithLabels}}",nand:'!!"{{mainWithLabel}}" must not exist simultaneously with {{peersWithLabels}}',assert:'!!"{{ref}}" validation failed because "{{ref}}" failed to {{message}}',rename:{multiple:'cannot rename child "{{from}}" because multiple renames are disabled and another key was already renamed to "{{to}}"',override:'cannot rename child "{{from}}" because override is disabled and target "{{to}}" exists',regex:{multiple:'cannot rename children {{from}} because multiple renames are disabled and another key was already renamed to "{{to}}"',override:'cannot rename children {{from}} because override is disabled and target "{{to}}" exists'}},type:'must be an instance of "{{type}}"',schema:"must be a Joi instance"},number:{base:"must be a number",min:"must be larger than or equal to {{limit}}",max:"must be less than or equal to {{limit}}",less:"must be less than {{limit}}",greater:"must be greater than {{limit}}",float:"must be a float or double",integer:"must be an integer",negative:"must be a negative number",positive:"must be a positive number",precision:"must have no more than {{limit}} decimal places",ref:'references "{{ref}}" which is not a number',multiple:"must be a multiple of {{multiple}}",port:"must be a valid port"},string:{base:"must be a string",min:"length must be at least {{limit}} characters long",max:"length must be less than or equal to {{limit}} characters long",length:"length must be {{limit}} characters long",alphanum:"must only contain alpha-numeric characters",token:"must only contain alpha-numeric and underscore characters",regex:{base:'with value "{{!value}}" fails to match the required pattern: {{pattern}}',name:'with value "{{!value}}" fails to match the {{name}} pattern',invert:{base:'with value "{{!value}}" matches the inverted pattern: {{pattern}}',name:'with value "{{!value}}" matches the inverted {{name}} pattern'}},email:"must be a valid email",uri:"must be a valid uri",uriRelativeOnly:"must be a valid relative uri",uriCustomScheme:"must be a valid uri with a scheme matching the {{scheme}} pattern",isoDate:"must be a valid ISO 8601 date",guid:"must be a valid GUID",hex:"must only contain hexadecimal characters",hexAlign:"hex decoded representation must be byte aligned",base64:"must be a valid base64 string",dataUri:"must be a valid dataUri string",hostname:"must be a valid hostname",normalize:"must be unicode normalized in the {{form}} form",lowercase:"must only contain lowercase characters",uppercase:"must only contain uppercase characters",trim:"must not have leading or trailing whitespace",creditCard:"must be a credit card",ref:'references "{{ref}}" which is not a number',ip:"must be a valid ip address with a {{cidr}} CIDR",ipVersion:"must be a valid ip address of one of the following versions {{version}} with a {{cidr}} CIDR"},symbol:{base:"must be a symbol",map:"must be one of {{map}}"}}},763:(e,t,r)=>{"use strict";const n=r(14);t.create=function(e,t){n.assert("string"==typeof e,"Invalid reference key:",e);const r=n.clone(t),s=function(e,t){return n.reach(s.isContext?t.context:e,s.key,r)};return s.isContext=e[0]===(r&&r.contextPrefix||"$"),s.key=s.isContext?e.slice(1):e,s.path=s.key.split(r&&r.separator||"."),s.depth=s.path.length,s.root=s.path[0],s.isJoi=!0,s.toString=function(){return(s.isContext?"context:":"ref:")+s.key},s},t.isRef=function(e){return"function"==typeof e&&e.isJoi},t.push=function(e,r){t.isRef(r)&&!r.isContext&&e.push(r.root)}},925:(e,t,r)=>{"use strict";const n=r(456);t.options=n.object({abortEarly:n.boolean(),convert:n.boolean(),allowUnknown:n.boolean(),skipFunctions:n.boolean(),stripUnknown:[n.boolean(),n.object({arrays:n.boolean(),objects:n.boolean()}).or("arrays","objects")],language:n.object(),presence:n.string().only("required","optional","forbidden","ignore"),raw:n.boolean(),context:n.object(),strip:n.boolean(),noDefaults:n.boolean(),escapeHtml:n.boolean()}).strict()},59:(e,t,r)=>{"use strict";const n=r(763),s=function(e,t){const r=typeof e;if("object"===r){if(e instanceof Date)return t=>t instanceof Date&&e.getTime()===t.getTime();if(Buffer.isBuffer(e))return t=>Buffer.isBuffer(t)&&e.length===t.length&&e.toString("binary")===t.toString("binary")}else if(t&&"string"===r){const t=e.toLowerCase();return e=>"string"==typeof e&&t===e.toLowerCase()}return null};e.exports=class e{constructor(e){this._set=new Set(e),this._hasRef=!1}add(e,t){const r=n.isRef(e);return!r&&this.has(e,null,null,!1)||(void 0!==t&&n.push(t,e),this._set.add(e),this._hasRef|=r),this}merge(e,t){for(const t of e._set)this.add(t);for(const e of t._set)this.remove(e);return this}remove(e){return this._set.delete(e),this}has(e,t,r,o){if(!this._set.size)return!1;const i=this._set.has(e);if(i)return i;const a=s(e,o);if(!a){if(t&&this._hasRef)for(let s of this._set)if(n.isRef(s)&&(s=s(t.reference||t.parent,r),e===s||Array.isArray(s)&&s.includes(e)))return!0;return!1}return this._has(e,t,r,a)}_has(e,t,r,s){const o=!(!t||!this._hasRef),i=function(t){return e===t||s(t)};for(let e of this._set)if(o&&n.isRef(e)&&(e=e(t.reference||t.parent,r),Array.isArray(e))){if(e.find(i))return!0}else if(i(e))return!0;return!1}values(e){if(e&&e.stripUndefined){const e=[];for(const t of this._set)void 0!==t&&e.push(t);return e}return Array.from(this._set)}slice(){const t=new e(this._set);return t._hasRef=this._hasRef,t}concat(t){const r=new e([...this._set,...t._set]);return r._hasRef=!!(this._hasRef|t._hasRef),r}}},103:(e,t,r)=>{"use strict";const n=r(14),s=r(589),o=r(153),i=r(763),a={};a.Alternatives=class extends s{constructor(){super(),this._type="alternatives",this._invalids.remove(null),this._inner.matches=[]}_init(...e){return e.length?this.try(...e):this}_base(e,t,r){let n=[];const s=this._inner.matches.length,o=this._baseType;for(let i=0;i<s;++i){const a=this._inner.matches[i];if(!a.schema){const n=a.peek||a.is,c=a.is?a.ref(t.reference||t.parent,r):e;if(n._validate(c,null,r,t.parent).errors){if(a.otherwise)return a.otherwise._validate(e,t,r)}else if(a.then)return a.then._validate(e,t,r);if(i===s-1&&o)return o._validate(e,t,r);continue}const c=a.schema._validate(e,t,r);if(!c.errors)return c;n=n.concat(c.errors)}return n.length?{errors:this.createError("alternatives.child",{reason:n},t,r)}:{errors:this.createError("alternatives.base",null,t,r)}}try(...e){e=n.flatten(e),n.assert(e.length,"Cannot add other alternatives without at least one schema");const t=this.clone();for(let r=0;r<e.length;++r){const n=o.schema(this._currentJoi,e[r]);n._refs.length&&(t._refs=t._refs.concat(n._refs)),t._inner.matches.push({schema:n})}return t}when(e,t){let r=!1;n.assert(i.isRef(e)||"string"==typeof e||(r=e instanceof s),"Invalid condition:",e),n.assert(t,"Missing options"),n.assert("object"==typeof t,"Invalid options"),r?n.assert(!t.hasOwnProperty("is"),'"is" can not be used with a schema condition'):n.assert(t.hasOwnProperty("is"),'Missing "is" directive'),n.assert(void 0!==t.then||void 0!==t.otherwise,'options must have at least one of "then" or "otherwise"');const a=this.clone();let c;r||(c=o.schema(this._currentJoi,t.is),null!==t.is&&(i.isRef(t.is)||t.is instanceof s)||(c=c.required()));const l={ref:r?null:o.ref(e),peek:r?e:null,is:c,then:void 0!==t.then?o.schema(this._currentJoi,t.then):void 0,otherwise:void 0!==t.otherwise?o.schema(this._currentJoi,t.otherwise):void 0};return a._baseType&&(l.then=l.then&&a._baseType.concat(l.then),l.otherwise=l.otherwise&&a._baseType.concat(l.otherwise)),r||(i.push(a._refs,l.ref),a._refs=a._refs.concat(l.is._refs)),l.then&&l.then._refs&&(a._refs=a._refs.concat(l.then._refs)),l.otherwise&&l.otherwise._refs&&(a._refs=a._refs.concat(l.otherwise._refs)),a._inner.matches.push(l),a}describe(){const e=super.describe(),t=[];for(let e=0;e<this._inner.matches.length;++e){const r=this._inner.matches[e];if(r.schema)t.push(r.schema.describe());else{const e=r.is?{ref:r.ref.toString(),is:r.is.describe()}:{peek:r.peek.describe()};r.then&&(e.then=r.then.describe()),r.otherwise&&(e.otherwise=r.otherwise.describe()),t.push(e)}}return e.alternatives=t,e}},e.exports=new a.Alternatives},589:(e,t,r)=>{"use strict";const n=r(14),s=r(242),o=r(763),i=r(724);let a=null,c=null;const l={Set:r(59),defaults:{abortEarly:!0,convert:!0,allowUnknown:!1,skipFunctions:!1,stripUnknown:!1,language:{},presence:"optional",strip:!1,noDefaults:!1,escapeHtml:!1}};e.exports=l.Any=class{constructor(){c=c||r(153),this.isJoi=!0,this._type="any",this._settings=null,this._valids=new l.Set,this._invalids=new l.Set,this._tests=[],this._refs=[],this._flags={},this._description=null,this._unit=null,this._notes=[],this._tags=[],this._examples=[],this._meta=[],this._inner={}}_init(){return this}get schemaType(){return this._type}createError(e,t,r,n,s=this._flags){return i.create(e,t,r,n,s)}createOverrideError(e,t,r,n,s,o){return i.create(e,t,r,n,this._flags,s,o)}checkOptions(e){const t=r(925).options.validate(e);if(t.error)throw new Error(t.error.details[0].message)}clone(){const e=Object.create(Object.getPrototypeOf(this));e.isJoi=!0,e._currentJoi=this._currentJoi,e._type=this._type,e._settings=this._settings,e._baseType=this._baseType,e._valids=this._valids.slice(),e._invalids=this._invalids.slice(),e._tests=this._tests.slice(),e._refs=this._refs.slice(),e._flags=n.clone(this._flags),e._description=this._description,e._unit=this._unit,e._notes=this._notes.slice(),e._tags=this._tags.slice(),e._examples=this._examples.slice(),e._meta=this._meta.slice(),e._inner={};const t=Object.keys(this._inner);for(let r=0;r<t.length;++r){const n=t[r];e._inner[n]=this._inner[n]?this._inner[n].slice():null}return e}concat(e){n.assert(e instanceof l.Any,"Invalid schema object"),n.assert("any"===this._type||"any"===e._type||e._type===this._type,"Cannot merge type",this._type,"with another type:",e._type);let t=this.clone();if("any"===this._type&&"any"!==e._type){const r=e.clone(),n=["_settings","_valids","_invalids","_tests","_refs","_flags","_description","_unit","_notes","_tags","_examples","_meta","_inner"];for(let e=0;e<n.length;++e)r[n[e]]=t[n[e]];t=r}t._settings=t._settings?s.concat(t._settings,e._settings):e._settings,t._valids.merge(e._valids,e._invalids),t._invalids.merge(e._invalids,e._valids),t._tests=t._tests.concat(e._tests),t._refs=t._refs.concat(e._refs),n.merge(t._flags,e._flags),t._description=e._description||t._description,t._unit=e._unit||t._unit,t._notes=t._notes.concat(e._notes),t._tags=t._tags.concat(e._tags),t._examples=t._examples.concat(e._examples),t._meta=t._meta.concat(e._meta);const r=Object.keys(e._inner),o="object"===t._type;for(let n=0;n<r.length;++n){const s=r[n],i=e._inner[s];if(i){const e=t._inner[s];if(e)if(o&&"children"===s){const t={};for(let r=0;r<e.length;++r)t[e[r].key]=r;for(let r=0;r<i.length;++r){const n=i[r].key;t[n]>=0?e[t[n]]={key:n,schema:e[t[n]].schema.concat(i[r].schema)}:e.push(i[r])}}else t._inner[s]=t._inner[s].concat(i);else t._inner[s]=i.slice()}}return t}_test(e,t,r,n){const s=this.clone();return s._tests.push({func:r,name:e,arg:t,options:n}),s}options(e){n.assert(!e.context,"Cannot override context"),this.checkOptions(e);const t=this.clone();return t._settings=s.concat(t._settings,e),t}strict(e){const t=this.clone(),r=void 0!==e&&!e;return t._settings=s.concat(t._settings,{convert:r}),t}raw(e){const t=void 0===e||e;if(this._flags.raw===t)return this;const r=this.clone();return r._flags.raw=t,r}error(e){n.assert(e&&(e instanceof Error||"function"==typeof e),"Must provide a valid Error object or a function");const t=this.clone();return t._flags.error=e,t}allow(...e){const t=this.clone();e=n.flatten(e);for(let r=0;r<e.length;++r){const s=e[r];n.assert(void 0!==s,"Cannot call allow/valid/invalid with undefined"),t._invalids.remove(s),t._valids.add(s,t._refs)}return t}valid(...e){const t=this.allow(...e);return t._flags.allowOnly=!0,t}invalid(...e){const t=this.clone();e=n.flatten(e);for(let r=0;r<e.length;++r){const s=e[r];n.assert(void 0!==s,"Cannot call allow/valid/invalid with undefined"),t._valids.remove(s),t._invalids.add(s,t._refs)}return t}required(){if("required"===this._flags.presence)return this;const e=this.clone();return e._flags.presence="required",e}optional(){if("optional"===this._flags.presence)return this;const e=this.clone();return e._flags.presence="optional",e}forbidden(){if("forbidden"===this._flags.presence)return this;const e=this.clone();return e._flags.presence="forbidden",e}strip(){if(this._flags.strip)return this;const e=this.clone();return e._flags.strip=!0,e}applyFunctionToChildren(e,t,r,n){if(1!==(e=[].concat(e)).length||""!==e[0]){n=n?n+".":"";const t=(""===e[0]?e.slice(1):e).map((e=>n+e));throw new Error("unknown key(s) "+t.join(", "))}return this[t].apply(this,r)}default(e,t){"function"!=typeof e||o.isRef(e)||(!e.description&&t&&(e.description=t),this._flags.func||n.assert("string"==typeof e.description&&e.description.length>0,"description must be provided when default value is a function"));const r=this.clone();return r._flags.default=e,o.push(r._refs,e),r}empty(e){const t=this.clone();return void 0===e?delete t._flags.empty:t._flags.empty=c.schema(this._currentJoi,e),t}when(e,t){n.assert(t&&"object"==typeof t,"Invalid options"),n.assert(void 0!==t.then||void 0!==t.otherwise,'options must have at least one of "then" or "otherwise"');const s=t.hasOwnProperty("then")?this.concat(c.schema(this._currentJoi,t.then)):void 0,o=t.hasOwnProperty("otherwise")?this.concat(c.schema(this._currentJoi,t.otherwise)):void 0;a=a||r(103);const i={then:s,otherwise:o};Object.prototype.hasOwnProperty.call(t,"is")&&(i.is=t.is);const l=a.when(e,i);return l._flags.presence="ignore",l._baseType=this,l}description(e){n.assert(e&&"string"==typeof e,"Description must be a non-empty string");const t=this.clone();return t._description=e,t}notes(e){n.assert(e&&("string"==typeof e||Array.isArray(e)),"Notes must be a non-empty string or array");const t=this.clone();return t._notes=t._notes.concat(e),t}tags(e){n.assert(e&&("string"==typeof e||Array.isArray(e)),"Tags must be a non-empty string or array");const t=this.clone();return t._tags=t._tags.concat(e),t}meta(e){n.assert(void 0!==e,"Meta cannot be undefined");const t=this.clone();return t._meta=t._meta.concat(e),t}example(...e){n.assert(1===e.length,"Missing example");const t=e[0],r=this.clone();return r._examples.push(t),r}unit(e){n.assert(e&&"string"==typeof e,"Unit name must be a non-empty string");const t=this.clone();return t._unit=e,t}_prepareEmptyValue(e){return"string"==typeof e&&this._flags.trim?e.trim():e}_validate(e,t,r,a){const c=e;t=t||{key:"",path:[],parent:null,reference:a},this._settings&&(r=s.concat(r,this._settings));let u=[];const f=()=>{let s;if(void 0!==e)s=this._flags.raw?c:e;else if(r.noDefaults)s=e;else if(o.isRef(this._flags.default))s=this._flags.default(t.parent,r);else if("function"!=typeof this._flags.default||this._flags.func&&!this._flags.default.description)s=n.clone(this._flags.default);else{let e;null!==t.parent&&this._flags.default.length>0&&(e=[n.clone(t.parent),r]);const o=l._try(this._flags.default,e);s=o.value,o.error&&u.push(this.createError("any.default",{error:o.error},t,r))}if(u.length&&"function"==typeof this._flags.error){const e=this._flags.error.call(this,u);u="string"==typeof e?[this.createOverrideError("override",{reason:u},t,r,e)]:[].concat(e).map((e=>e instanceof Error?e:this.createOverrideError(e.type||"override",e.context,t,r,e.message,e.template)))}return{value:this._flags.strip?void 0:s,finalValue:s,errors:u.length?u:null}};if(this._coerce){const n=this._coerce.call(this,e,t,r);if(n.errors)return e=n.value,u=u.concat(n.errors),f();e=n.value}this._flags.empty&&!this._flags.empty._validate(this._prepareEmptyValue(e),null,l.defaults).errors&&(e=void 0);const h=this._flags.presence||r.presence;if("optional"===h){if(void 0===e){if(!this._flags.hasOwnProperty("default")||void 0!==this._flags.default||"object"!==this._type)return f();e={}}}else{if("required"===h&&void 0===e)return u.push(this.createError("any.required",null,t,r)),f();if("forbidden"===h)return void 0===e||u.push(this.createError("any.unknown",null,t,r)),f()}if(this._valids.has(e,t,r,this._flags.insensitive))return f();if(this._invalids.has(e,t,r,this._flags.insensitive)&&(u.push(this.createError(""===e?"any.empty":"any.invalid",{value:e,invalids:this._invalids.values({stripUndefined:!0})},t,r)),r.abortEarly||void 0===e))return f();if(this._base){const n=this._base.call(this,e,t,r);if(n.errors)return e=n.value,u=u.concat(n.errors),f();if(n.value!==e){if(e=n.value,this._valids.has(e,t,r,this._flags.insensitive))return f();if(this._invalids.has(e,t,r,this._flags.insensitive)&&(u.push(this.createError(""===e?"any.empty":"any.invalid",{value:e,invalids:this._invalids.values({stripUndefined:!0})},t,r)),r.abortEarly))return f()}}if(this._flags.allowOnly&&(u.push(this.createError("any.allowOnly",{value:e,valids:this._valids.values({stripUndefined:!0})},t,r)),r.abortEarly))return f();for(let n=0;n<this._tests.length;++n){const s=this._tests[n].func.call(this,e,t,r);if(s instanceof i.Err){if(u.push(s),r.abortEarly)return f()}else e=s}return f()}_validateWithOptions(e,t,r){t&&this.checkOptions(t);const n=s.concat(l.defaults,t),o=this._validate(e,null,n),a=i.process(o.errors,e);return r?r(a,o.value):{error:a,value:o.value,then:(e,t)=>a?Promise.reject(a).catch(t):Promise.resolve(o.value).then(e),catch:e=>a?Promise.reject(a).catch(e):Promise.resolve(o.value)}}validate(e,t,r){return"function"==typeof t?this._validateWithOptions(e,null,t):this._validateWithOptions(e,t,r)}describe(){const e={type:this._type},t=Object.keys(this._flags);if(t.length)if(["empty","default","lazy","label"].some((e=>this._flags.hasOwnProperty(e)))){e.flags={};for(let r=0;r<t.length;++r){const n=t[r];"empty"===n?e.flags[n]=this._flags[n].describe():"default"===n?o.isRef(this._flags[n])?e.flags[n]=this._flags[n].toString():"function"==typeof this._flags[n]?e.flags[n]={description:this._flags[n].description,function:this._flags[n]}:e.flags[n]=this._flags[n]:"lazy"===n||"label"===n||(e.flags[n]=this._flags[n])}}else e.flags=this._flags;this._settings&&(e.options=n.clone(this._settings)),this._baseType&&(e.base=this._baseType.describe()),this._description&&(e.description=this._description),this._notes.length&&(e.notes=this._notes),this._tags.length&&(e.tags=this._tags),this._meta.length&&(e.meta=this._meta),this._examples.length&&(e.examples=this._examples),this._unit&&(e.unit=this._unit);const r=this._valids.values();r.length&&(e.valids=r.map((e=>o.isRef(e)?e.toString():e)));const s=this._invalids.values();s.length&&(e.invalids=s.map((e=>o.isRef(e)?e.toString():e))),e.rules=[];for(let t=0;t<this._tests.length;++t){const r=this._tests[t],n={name:r.name};void 0!==r.arg&&(n.arg=o.isRef(r.arg)?r.arg.toString():r.arg);const s=r.options;if(s){if(s.hasRef){n.arg={};const e=Object.keys(r.arg);for(let t=0;t<e.length;++t){const s=e[t],i=r.arg[s];n.arg[s]=o.isRef(i)?i.toString():i}}"string"==typeof s.description?n.description=s.description:"function"==typeof s.description&&(n.description=s.description(n.arg))}e.rules.push(n)}e.rules.length||delete e.rules;const i=this._getLabel();return i&&(e.label=i),e}label(e){n.assert(e&&"string"==typeof e,"Label name must be a non-empty string");const t=this.clone();return t._flags.label=e,t}_getLabel(e){return this._flags.label||e}},l.Any.prototype.isImmutable=!0,l.Any.prototype.only=l.Any.prototype.equal=l.Any.prototype.valid,l.Any.prototype.disallow=l.Any.prototype.not=l.Any.prototype.invalid,l.Any.prototype.exist=l.Any.prototype.required,l._try=function(e,t){let r,n;try{n=e.apply(null,t)}catch(e){r=e}return{value:n,error:r}}},242:(e,t,r)=>{"use strict";const n=r(14);t.concat=function(e,t){if(!t)return e;const r=Object.assign({},e),s=Object.keys(t);for(let e=0;e<s.length;++e){const o=s[e];"language"===o&&r.hasOwnProperty(o)?r[o]=n.applyToDefaults(r[o],t[o]):r[o]=t[o]}return r}},537:(e,t,r)=>{"use strict";const n=r(589),s=r(153),o=r(763),i=r(14),a={fastSplice:function(e,t){let r=t;for(;r<e.length;)e[r++]=e[r];--e.length}};a.Array=class extends n{constructor(){super(),this._type="array",this._inner.items=[],this._inner.ordereds=[],this._inner.inclusions=[],this._inner.exclusions=[],this._inner.requireds=[],this._flags.sparse=!1}_base(e,t,r){const n={value:e};"string"==typeof e&&r.convert&&a.safeParse(e,n);let s=Array.isArray(n.value);const o=s;if(r.convert&&this._flags.single&&!s&&(n.value=[n.value],s=!0),!s)return n.errors=this.createError("array.base",null,t,r),n;if((this._inner.inclusions.length||this._inner.exclusions.length||this._inner.requireds.length||this._inner.ordereds.length||!this._flags.sparse)&&(o&&(n.value=n.value.slice(0)),n.errors=this._checkItems.call(this,n.value,o,t,r),n.errors&&o&&r.convert&&this._flags.single)){const e=n.errors;n.value=[n.value],n.errors=this._checkItems.call(this,n.value,o,t,r),n.errors&&(n.errors=e,n.value=n.value[0])}return n}_checkItems(e,t,r,n){const s=[];let o;const i=this._inner.requireds.slice(),c=this._inner.ordereds.slice(),l=this._inner.inclusions.concat(i);let u=e.length;for(let f=0;f<u;++f){o=!1;const h=e[f];let p=!1;const d={key:t?f:r.key,path:t?r.path.concat(f):r.path,parent:r.parent,reference:r.reference};let g;if(!this._flags.sparse&&void 0===h){if(s.push(this.createError("array.sparse",null,{key:r.key,path:d.path,pos:f},n)),n.abortEarly)return s;c.shift();continue}for(let e=0;e<this._inner.exclusions.length;++e)if(g=this._inner.exclusions[e]._validate(h,d,{}),!g.errors){if(s.push(this.createError(t?"array.excludes":"array.excludesSingle",{pos:f,value:h},{key:r.key,path:d.path},n)),o=!0,n.abortEarly)return s;c.shift();break}if(o)continue;if(this._inner.ordereds.length){if(c.length>0){const t=c.shift();if(g=t._validate(h,d,n),g.errors){if(s.push(this.createError("array.ordered",{pos:f,reason:g.errors,value:h},{key:r.key,path:d.path},n)),n.abortEarly)return s}else if(t._flags.strip)a.fastSplice(e,f),--f,--u;else{if(!this._flags.sparse&&void 0===g.value){if(s.push(this.createError("array.sparse",null,{key:r.key,path:d.path,pos:f},n)),n.abortEarly)return s;continue}e[f]=g.value}continue}if(!this._inner.items.length){if(s.push(this.createError("array.orderedLength",{pos:f,limit:this._inner.ordereds.length},{key:r.key,path:d.path},n)),n.abortEarly)return s;continue}}const m=[];let y=i.length;for(let t=0;t<y;++t)if(g=m[t]=i[t]._validate(h,d,n),!g.errors){if(e[f]=g.value,p=!0,a.fastSplice(i,t),--t,--y,!this._flags.sparse&&void 0===g.value&&(s.push(this.createError("array.sparse",null,{key:r.key,path:d.path,pos:f},n)),n.abortEarly))return s;break}if(p)continue;const b=!(!n.stripUnknown||!0!==n.stripUnknown&&!n.stripUnknown.arrays);y=l.length;for(let c=0;c<y;++c){const v=l[c],_=i.indexOf(v);if(-1!==_)g=m[_];else if(g=v._validate(h,d,n),!g.errors){v._flags.strip?(a.fastSplice(e,f),--f,--u):this._flags.sparse||void 0!==g.value?e[f]=g.value:(s.push(this.createError("array.sparse",null,{key:r.key,path:d.path,pos:f},n)),o=!0),p=!0;break}if(1===y){if(b){a.fastSplice(e,f),--f,--u,p=!0;break}if(s.push(this.createError(t?"array.includesOne":"array.includesOneSingle",{pos:f,reason:g.errors,value:h},{key:r.key,path:d.path},n)),o=!0,n.abortEarly)return s;break}}if(!o&&this._inner.inclusions.length&&!p){if(b){a.fastSplice(e,f),--f,--u;continue}if(s.push(this.createError(t?"array.includes":"array.includesSingle",{pos:f,value:h},{key:r.key,path:d.path},n)),n.abortEarly)return s}}return i.length&&this._fillMissedErrors.call(this,s,i,r,n),c.length&&this._fillOrderedErrors.call(this,s,c,r,n),s.length?s:null}describe(){const e=super.describe();if(this._inner.ordereds.length){e.orderedItems=[];for(let t=0;t<this._inner.ordereds.length;++t)e.orderedItems.push(this._inner.ordereds[t].describe())}if(this._inner.items.length){e.items=[];for(let t=0;t<this._inner.items.length;++t)e.items.push(this._inner.items[t].describe())}return e}items(...e){const t=this.clone();return i.flatten(e).forEach(((e,r)=>{try{e=s.schema(this._currentJoi,e)}catch(e){throw e.hasOwnProperty("path")?e.path=r+"."+e.path:e.path=r,e.message=e.message+"("+e.path+")",e}t._inner.items.push(e),"required"===e._flags.presence?t._inner.requireds.push(e):"forbidden"===e._flags.presence?t._inner.exclusions.push(e.optional()):t._inner.inclusions.push(e)})),t}ordered(...e){const t=this.clone();return i.flatten(e).forEach(((e,r)=>{try{e=s.schema(this._currentJoi,e)}catch(e){throw e.hasOwnProperty("path")?e.path=r+"."+e.path:e.path=r,e.message=e.message+"("+e.path+")",e}t._inner.ordereds.push(e)})),t}min(e){const t=o.isRef(e);return i.assert(Number.isSafeInteger(e)&&e>=0||t,"limit must be a positive integer or reference"),this._test("min",e,(function(r,n,s){let o;if(t){if(o=e(n.reference||n.parent,s),!(Number.isSafeInteger(o)&&o>=0))return this.createError("array.ref",{ref:e.key},n,s)}else o=e;return r.length>=o?r:this.createError("array.min",{limit:e,value:r},n,s)}))}max(e){const t=o.isRef(e);return i.assert(Number.isSafeInteger(e)&&e>=0||t,"limit must be a positive integer or reference"),this._test("max",e,(function(r,n,s){let o;if(t){if(o=e(n.reference||n.parent,s),!(Number.isSafeInteger(o)&&o>=0))return this.createError("array.ref",{ref:e.key},n,s)}else o=e;return r.length<=o?r:this.createError("array.max",{limit:e,value:r},n,s)}))}length(e){const t=o.isRef(e);return i.assert(Number.isSafeInteger(e)&&e>=0||t,"limit must be a positive integer or reference"),this._test("length",e,(function(r,n,s){let o;if(t){if(o=e(n.reference||n.parent,s),!(Number.isSafeInteger(o)&&o>=0))return this.createError("array.ref",{ref:e.key},n,s)}else o=e;return r.length===o?r:this.createError("array.length",{limit:e,value:r},n,s)}))}unique(e,t){i.assert(void 0===e||"function"==typeof e||"string"==typeof e,"comparator must be a function or a string"),i.assert(void 0===t||"object"==typeof t,"configs must be an object");const r={ignoreUndefined:t&&t.ignoreUndefined||!1};return"string"==typeof e?r.path=e:"function"==typeof e&&(r.comparator=e),this._test("unique",r,(function(e,t,n){const s={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),object:new Map,function:new Map,custom:new Map},o=r.comparator||i.deepEqual,a=r.ignoreUndefined;for(let c=0;c<e.length;++c){const l=r.path?i.reach(e[c],r.path):e[c],u=r.comparator?s.custom:s[typeof l];if(u)if(u instanceof Map){const s=u.entries();let i;for(;!(i=s.next()).done;)if(o(i.value[0],l)){const s={key:t.key,path:t.path.concat(c),parent:t.parent,reference:t.reference},o={pos:c,value:e[c],dupePos:i.value[1],dupeValue:e[i.value[1]]};return r.path&&(o.path=r.path),this.createError("array.unique",o,s,n)}u.set(l,c)}else{if((!a||void 0!==l)&&void 0!==u[l]){const s={key:t.key,path:t.path.concat(c),parent:t.parent,reference:t.reference},o={pos:c,value:e[c],dupePos:u[l],dupeValue:e[u[l]]};return r.path&&(o.path=r.path),this.createError("array.unique",o,s,n)}u[l]=c}}return e}))}sparse(e){const t=void 0===e||!!e;if(this._flags.sparse===t)return this;const r=this.clone();return r._flags.sparse=t,r}single(e){const t=void 0===e||!!e;if(this._flags.single===t)return this;const r=this.clone();return r._flags.single=t,r}_fillMissedErrors(e,t,r,n){const s=[];let o=0;for(let e=0;e<t.length;++e){const r=t[e]._getLabel();r?s.push(r):++o}s.length?o?e.push(this.createError("array.includesRequiredBoth",{knownMisses:s,unknownMisses:o},{key:r.key,path:r.path},n)):e.push(this.createError("array.includesRequiredKnowns",{knownMisses:s},{key:r.key,path:r.path},n)):e.push(this.createError("array.includesRequiredUnknowns",{unknownMisses:o},{key:r.key,path:r.path},n))}_fillOrderedErrors(e,t,r,n){const s=[];for(let e=0;e<t.length;++e)"required"===i.reach(t[e],"_flags.presence")&&s.push(t[e]);s.length&&this._fillMissedErrors.call(this,e,s,r,n)}},a.safeParse=function(e,t){try{const r=JSON.parse(e);Array.isArray(r)&&(t.value=r)}catch(e){}},e.exports=new a.Array},729:(e,t,r)=>{"use strict";const n=r(589),s=r(14),o={};o.Binary=class extends n{constructor(){super(),this._type="binary"}_base(e,t,r){const n={value:e};if("string"==typeof e&&r.convert)try{n.value=Buffer.from(e,this._flags.encoding)}catch(e){}return n.errors=Buffer.isBuffer(n.value)?null:this.createError("binary.base",null,t,r),n}encoding(e){if(s.assert(Buffer.isEncoding(e),"Invalid encoding:",e),this._flags.encoding===e)return this;const t=this.clone();return t._flags.encoding=e,t}min(e){return s.assert(Number.isSafeInteger(e)&&e>=0,"limit must be a positive integer"),this._test("min",e,(function(t,r,n){return t.length>=e?t:this.createError("binary.min",{limit:e,value:t},r,n)}))}max(e){return s.assert(Number.isSafeInteger(e)&&e>=0,"limit must be a positive integer"),this._test("max",e,(function(t,r,n){return t.length<=e?t:this.createError("binary.max",{limit:e,value:t},r,n)}))}length(e){return s.assert(Number.isSafeInteger(e)&&e>=0,"limit must be a positive integer"),this._test("length",e,(function(t,r,n){return t.length===e?t:this.createError("binary.length",{limit:e,value:t},r,n)}))}},e.exports=new o.Binary},208:(e,t,r)=>{"use strict";const n=r(589),s=r(14),o={Set:r(59)};o.Boolean=class extends n{constructor(){super(),this._type="boolean",this._flags.insensitive=!0,this._inner.truthySet=new o.Set,this._inner.falsySet=new o.Set}_base(e,t,r){const n={value:e};if("string"==typeof e&&r.convert){const t=this._flags.insensitive?e.toLowerCase():e;n.value="true"===t||"false"!==t&&e}return"boolean"!=typeof n.value&&(n.value=!!this._inner.truthySet.has(e,null,null,this._flags.insensitive)||!this._inner.falsySet.has(e,null,null,this._flags.insensitive)&&e),n.errors="boolean"==typeof n.value?null:this.createError("boolean.base",null,t,r),n}truthy(...e){const t=this.clone();e=s.flatten(e);for(let r=0;r<e.length;++r){const n=e[r];s.assert(void 0!==n,"Cannot call truthy with undefined"),t._inner.truthySet.add(n)}return t}falsy(...e){const t=this.clone();e=s.flatten(e);for(let r=0;r<e.length;++r){const n=e[r];s.assert(void 0!==n,"Cannot call falsy with undefined"),t._inner.falsySet.add(n)}return t}insensitive(e){const t=void 0===e||!!e;if(this._flags.insensitive===t)return this;const r=this.clone();return r._flags.insensitive=t,r}describe(){const e=super.describe();return e.truthy=[!0].concat(this._inner.truthySet.values()),e.falsy=[!1].concat(this._inner.falsySet.values()),e}},e.exports=new o.Boolean},761:(e,t,r)=>{"use strict";const n=r(589),s=r(763),o=r(14),i={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};i.invalidDate=new Date(""),i.isIsoDate=(()=>{const e=i.isoDate.toString();return t=>t&&t.toString()===e})(),i.Date=class extends n{constructor(){super(),this._type="date"}_base(e,t,r){const n={value:r.convert&&i.Date.toDate(e,this._flags.format,this._flags.timestamp,this._flags.multiplier)||e};if(n.value instanceof Date&&!isNaN(n.value.getTime()))n.errors=null;else if(r.convert){let e;e=i.isIsoDate(this._flags.format)?"isoDate":this._flags.timestamp?`timestamp.${this._flags.timestamp}`:"base",n.errors=this.createError(`date.${e}`,null,t,r)}else n.errors=this.createError("date.strict",null,t,r);return n}static toDate(e,t,r,n){if(e instanceof Date)return e;if("string"==typeof e||"number"==typeof e&&!isNaN(e)&&isFinite(e)){let s;if("string"==typeof e&&/^[+-]?\d+(\.\d+)?$/.test(e)&&(e=parseFloat(e)),s=t&&i.isIsoDate(t)?t.test(e)?new Date(e):i.invalidDate:r&&n?/^\s*$/.test(e)?i.invalidDate:new Date(e*n):new Date(e),!isNaN(s.getTime()))return s}return null}iso(){if(this._flags.format===i.isoDate)return this;const e=this.clone();return e._flags.format=i.isoDate,e}timestamp(e="javascript"){const t=["javascript","unix"];if(o.assert(t.includes(e),'"type" must be one of "'+t.join('", "')+'"'),this._flags.timestamp===e)return this;const r=this.clone();return r._flags.timestamp=e,r._flags.multiplier="unix"===e?1e3:1,r}_isIsoDate(e){return i.isoDate.test(e)}},i.compare=function(e,t){return function(r){const n="now"===r,a=s.isRef(r);return n||a||(r=i.Date.toDate(r)),o.assert(r,"Invalid date format"),this._test(e,r,(function(s,o,c){let l;if(n)l=Date.now();else if(a){if(l=i.Date.toDate(r(o.reference||o.parent,c)),!l)return this.createError("date.ref",{ref:r.key},o,c);l=l.getTime()}else l=r.getTime();return t(s.getTime(),l)?s:this.createError("date."+e,{limit:new Date(l)},o,c)}))}},i.Date.prototype.min=i.compare("min",((e,t)=>e>=t)),i.Date.prototype.max=i.compare("max",((e,t)=>e<=t)),i.Date.prototype.greater=i.compare("greater",((e,t)=>e>t)),i.Date.prototype.less=i.compare("less",((e,t)=>e<t)),e.exports=new i.Date},158:(e,t,r)=>{"use strict";const n=r(14),s=r(614),o=r(763),i={};i.Func=class extends s.constructor{constructor(){super(),this._flags.func=!0}arity(e){return n.assert(Number.isSafeInteger(e)&&e>=0,"n must be a positive integer"),this._test("arity",e,(function(t,r,n){return t.length===e?t:this.createError("function.arity",{n:e},r,n)}))}minArity(e){return n.assert(Number.isSafeInteger(e)&&e>0,"n must be a strict positive integer"),this._test("minArity",e,(function(t,r,n){return t.length>=e?t:this.createError("function.minArity",{n:e},r,n)}))}maxArity(e){return n.assert(Number.isSafeInteger(e)&&e>=0,"n must be a positive integer"),this._test("maxArity",e,(function(t,r,n){return t.length<=e?t:this.createError("function.maxArity",{n:e},r,n)}))}ref(){return this._test("ref",null,(function(e,t,r){return o.isRef(e)?e:this.createError("function.ref",null,t,r)}))}class(){return this._test("class",null,(function(e,t,r){return/^\s*class\s/.test(e.toString())?e:this.createError("function.class",null,t,r)}))}},e.exports=new i.Func},628:(e,t,r)=>{"use strict";const n=r(589),s=r(14),o={};o.Lazy=class extends n{constructor(){super(),this._type="lazy"}_base(e,t,r){const s={value:e},o=this._flags.lazy;if(!o)return s.errors=this.createError("lazy.base",null,t,r),s;const i=o();return i instanceof n?i._validate(e,t,r):(s.errors=this.createError("lazy.schema",null,t,r),s)}set(e){s.assert("function"==typeof e,"You must provide a function as first argument");const t=this.clone();return t._flags.lazy=e,t}},e.exports=new o.Lazy},598:(e,t,r)=>{"use strict";const n=r(589),s=r(763),o=r(14),i={precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/};i.Number=class extends n{constructor(){super(),this._type="number",this._invalids.add(1/0),this._invalids.add(-1/0)}_base(e,t,r){const n={errors:null,value:e};if("string"==typeof e&&r.convert){const t=parseFloat(e);n.value=isNaN(t)||!isFinite(e)?NaN:t}const s="number"==typeof n.value&&!isNaN(n.value);if(r.convert&&"precision"in this._flags&&s){const e=Math.pow(10,this._flags.precision);n.value=Math.round(n.value*e)/e}return n.errors=s?null:this.createError("number.base",{value:e},t,r),n}multiple(e){const t=s.isRef(e);return t||(o.assert("number"==typeof e&&isFinite(e),"multiple must be a number"),o.assert(e>0,"multiple must be greater than 0")),this._test("multiple",e,(function(r,n,s){const o=t?e(n.reference||n.parent,s):e;return!t||"number"==typeof o&&isFinite(o)?r%o==0?r:this.createError("number.multiple",{multiple:e,value:r},n,s):this.createError("number.ref",{ref:e.key},n,s)}))}integer(){return this._test("integer",void 0,(function(e,t,r){return Number.isSafeInteger(e)?e:this.createError("number.integer",{value:e},t,r)}))}negative(){return this._test("negative",void 0,(function(e,t,r){return e<0?e:this.createError("number.negative",{value:e},t,r)}))}positive(){return this._test("positive",void 0,(function(e,t,r){return e>0?e:this.createError("number.positive",{value:e},t,r)}))}precision(e){o.assert(Number.isSafeInteger(e),"limit must be an integer"),o.assert(!("precision"in this._flags),"precision already set");const t=this._test("precision",e,(function(t,r,n){const s=t.toString().match(i.precisionRx);return Math.max((s[1]?s[1].length:0)-(s[2]?parseInt(s[2],10):0),0)<=e?t:this.createError("number.precision",{limit:e,value:t},r,n)}));return t._flags.precision=e,t}port(){return this._test("port",void 0,(function(e,t,r){return!Number.isSafeInteger(e)||e<0||e>65535?this.createError("number.port",{value:e},t,r):e}))}},i.compare=function(e,t){return function(r){const n=s.isRef(r),i="number"==typeof r&&!isNaN(r);return o.assert(i||n,"limit must be a number or reference"),this._test(e,r,(function(s,o,i){let a;if(n){if(a=r(o.reference||o.parent,i),"number"!=typeof a||isNaN(a))return this.createError("number.ref",{ref:r.key},o,i)}else a=r;return t(s,a)?s:this.createError("number."+e,{limit:a,value:s},o,i)}))}},i.Number.prototype.min=i.compare("min",((e,t)=>e>=t)),i.Number.prototype.max=i.compare("max",((e,t)=>e<=t)),i.Number.prototype.greater=i.compare("greater",((e,t)=>e>t)),i.Number.prototype.less=i.compare("less",((e,t)=>e<t)),e.exports=new i.Number},614:(e,t,r)=>{"use strict";const n=r(14),s=r(22),o=r(589),i=r(724),a=r(153),c={};c.Object=class extends o{constructor(){super(),this._type="object",this._inner.children=null,this._inner.renames=[],this._inner.dependencies=[],this._inner.patterns=[]}_init(...e){return e.length?this.keys(...e):this}_base(e,t,r){let s=e;const o=[],a=()=>({value:s,errors:o.length?o:null});"string"==typeof e&&r.convert&&(e=c.safeParse(e));const l=this._flags.func?"function":"object";if(!e||typeof e!==l||Array.isArray(e))return o.push(this.createError(l+".base",null,t,r)),a();if(!(this._inner.renames.length||this._inner.dependencies.length||this._inner.children||this._inner.patterns.length))return s=e,a();if(s===e){"object"===l?s=Object.create(Object.getPrototypeOf(e)):(s=function(...t){return e.apply(this,t)},s.prototype=n.clone(e.prototype));const t=Object.keys(e);for(let r=0;r<t.length;++r)s[t[r]]=e[t[r]]}else s=e;const u={};for(let e=0;e<this._inner.renames.length;++e){const n=this._inner.renames[e];if(n.isRegExp){const e=Object.keys(s),i=[];for(let t=0;t<e.length;++t)n.from.test(e[t])&&i.push(e[t]);const c=i.every((e=>void 0===s[e]));if(n.options.ignoreUndefined&&c)continue;if(!n.options.multiple&&u[n.to]&&(o.push(this.createError("object.rename.regex.multiple",{from:i,to:n.to},t,r)),r.abortEarly))return a();if(Object.prototype.hasOwnProperty.call(s,n.to)&&!n.options.override&&!u[n.to]&&(o.push(this.createError("object.rename.regex.override",{from:i,to:n.to},t,r)),r.abortEarly))return a();if(c?delete s[n.to]:s[n.to]=s[i[i.length-1]],u[n.to]=!0,!n.options.alias)for(let e=0;e<i.length;++e)delete s[i[e]]}else{if(n.options.ignoreUndefined&&void 0===s[n.from])continue;if(!n.options.multiple&&u[n.to]&&(o.push(this.createError("object.rename.multiple",{from:n.from,to:n.to},t,r)),r.abortEarly))return a();if(Object.prototype.hasOwnProperty.call(s,n.to)&&!n.options.override&&!u[n.to]&&(o.push(this.createError("object.rename.override",{from:n.from,to:n.to},t,r)),r.abortEarly))return a();void 0===s[n.from]?delete s[n.to]:s[n.to]=s[n.from],u[n.to]=!0,n.options.alias||delete s[n.from]}}if(!this._inner.children&&!this._inner.patterns.length&&!this._inner.dependencies.length)return a();const f=new Set(Object.keys(s));if(this._inner.children){const e=[];for(let n=0;n<this._inner.children.length;++n){const i=this._inner.children[n],c=i.key,l=s[c];f.delete(c);const u={key:c,path:t.path.concat(c),parent:s,reference:t.reference},h=i.schema._validate(l,u,r);if(h.errors){if(o.push(this.createError("object.child",{key:c,child:i.schema._getLabel(c),reason:h.errors},u,r)),r.abortEarly)return a()}else i.schema._flags.strip||void 0===h.value&&h.value!==l?(e.push(c),s[c]=h.finalValue):void 0!==h.value&&(s[c]=h.value)}for(let t=0;t<e.length;++t)delete s[e[t]]}if(f.size&&this._inner.patterns.length)for(const e of f){const n={key:e,path:t.path.concat(e),parent:s,reference:t.reference},i=s[e];for(let t=0;t<this._inner.patterns.length;++t){const c=this._inner.patterns[t];if(c.regex?c.regex.test(e):!c.schema.validate(e).error){f.delete(e);const t=c.rule._validate(i,n,r);if(t.errors&&(o.push(this.createError("object.child",{key:e,child:c.rule._getLabel(e),reason:t.errors},n,r)),r.abortEarly))return a();s[e]=t.value}}}if(f.size&&(this._inner.children||this._inner.patterns.length)){if(r.stripUnknown&&!0!==this._flags.allowUnknown||r.skipFunctions){const e=!(!r.stripUnknown||!0!==r.stripUnknown&&!r.stripUnknown.objects);for(const t of f)e?(delete s[t],f.delete(t)):"function"==typeof s[t]&&f.delete(t)}if(void 0!==this._flags.allowUnknown?!this._flags.allowUnknown:!r.allowUnknown)for(const e of f)o.push(this.createError("object.allowUnknown",{child:e},{key:e,path:t.path.concat(e)},r,{}))}for(let e=0;e<this._inner.dependencies.length;++e){const n=this._inner.dependencies[e],l=c[n.type].call(this,null!==n.key&&s[n.key],n.peers,s,{key:n.key,path:null===n.key?t.path:t.path.concat(n.key)},r);if(l instanceof i.Err&&(o.push(l),r.abortEarly))return a()}return a()}keys(e){n.assert(null==e||"object"==typeof e,"Object schema must be a valid object"),n.assert(!(e&&e instanceof o),"Object schema cannot be a joi schema");const t=this.clone();if(!e)return t._inner.children=null,t;const r=Object.keys(e);if(!r.length)return t._inner.children=[],t;const i=new s;if(t._inner.children)for(let e=0;e<t._inner.children.length;++e){const n=t._inner.children[e];r.includes(n.key)||i.add(n,{after:n._refs,group:n.key})}for(let t=0;t<r.length;++t){const n=r[t],s=e[n];try{const e=a.schema(this._currentJoi,s);i.add({key:n,schema:e},{after:e._refs,group:n})}catch(e){throw e.hasOwnProperty("path")?e.path=n+"."+e.path:e.path=n,e}}return t._inner.children=i.nodes,t}append(e){return null==e||0===Object.keys(e).length?this:this.keys(e)}unknown(e){const t=!1!==e;if(this._flags.allowUnknown===t)return this;const r=this.clone();return r._flags.allowUnknown=t,r}length(e){return n.assert(Number.isSafeInteger(e)&&e>=0,"limit must be a positive integer"),this._test("length",e,(function(t,r,n){return Object.keys(t).length===e?t:this.createError("object.length",{limit:e},r,n)}))}min(e){return n.assert(Number.isSafeInteger(e)&&e>=0,"limit must be a positive integer"),this._test("min",e,(function(t,r,n){return Object.keys(t).length>=e?t:this.createError("object.min",{limit:e},r,n)}))}max(e){return n.assert(Number.isSafeInteger(e)&&e>=0,"limit must be a positive integer"),this._test("max",e,(function(t,r,n){return Object.keys(t).length<=e?t:this.createError("object.max",{limit:e},r,n)}))}pattern(e,t){const r=e instanceof RegExp;n.assert(r||e instanceof o,"pattern must be a regex or schema"),n.assert(void 0!==t,"Invalid rule"),r&&(e=new RegExp(e.source,e.ignoreCase?"i":void 0));try{t=a.schema(this._currentJoi,t)}catch(e){throw e.hasOwnProperty("path")&&(e.message=e.message+"("+e.path+")"),e}const s=this.clone();return r?s._inner.patterns.push({regex:e,rule:t}):s._inner.patterns.push({schema:e,rule:t}),s}schema(){return this._test("schema",null,(function(e,t,r){return e instanceof o?e:this.createError("object.schema",null,t,r)}))}with(e,t){return n.assert(2===arguments.length,"Invalid number of arguments, expected 2."),this._dependency("with",e,t)}without(e,t){return n.assert(2===arguments.length,"Invalid number of arguments, expected 2."),this._dependency("without",e,t)}xor(...e){return e=n.flatten(e),this._dependency("xor",null,e)}or(...e){return e=n.flatten(e),this._dependency("or",null,e)}and(...e){return e=n.flatten(e),this._dependency("and",null,e)}nand(...e){return e=n.flatten(e),this._dependency("nand",null,e)}requiredKeys(...e){return e=n.flatten(e),this.applyFunctionToChildren(e,"required")}optionalKeys(...e){return e=n.flatten(e),this.applyFunctionToChildren(e,"optional")}forbiddenKeys(...e){return e=n.flatten(e),this.applyFunctionToChildren(e,"forbidden")}rename(e,t,r){n.assert("string"==typeof e||e instanceof RegExp,"Rename missing the from argument"),n.assert("string"==typeof t,"Rename missing the to argument"),n.assert(t!==e,"Cannot rename key to same name:",e);for(let t=0;t<this._inner.renames.length;++t)n.assert(this._inner.renames[t].from!==e,"Cannot rename the same key multiple times");const s=this.clone();return s._inner.renames.push({from:e,to:t,options:n.applyToDefaults(c.renameDefaults,r||{}),isRegExp:e instanceof RegExp}),s}applyFunctionToChildren(e,t,r,s){e=[].concat(e),n.assert(e.length>0,"expected at least one children");const o=c.groupChildren(e);let i;if(""in o?(i=this[t].apply(this,r),delete o[""]):i=this.clone(),i._inner.children){s=s?s+".":"";for(let e=0;e<i._inner.children.length;++e){const n=i._inner.children[e],a=o[n.key];a&&(i._inner.children[e]={key:n.key,_refs:n._refs,schema:n.schema.applyFunctionToChildren(a,t,r,s+n.key)},delete o[n.key])}}const a=Object.keys(o);return n.assert(0===a.length,"unknown key(s)",a.join(", ")),i}_dependency(e,t,r){r=[].concat(r);for(let t=0;t<r.length;++t)n.assert("string"==typeof r[t],e,"peers must be a string or array of strings");const s=this.clone();return s._inner.dependencies.push({type:e,key:t,peers:r}),s}describe(e){const t=super.describe();if(t.rules)for(let e=0;e<t.rules.length;++e){const r=t.rules[e];r.arg&&"object"==typeof r.arg&&r.arg.schema&&r.arg.ref&&(r.arg={schema:r.arg.schema.describe(),ref:r.arg.ref.toString()})}if(this._inner.children&&!e){t.children={};for(let e=0;e<this._inner.children.length;++e){const r=this._inner.children[e];t.children[r.key]=r.schema.describe()}}if(this._inner.dependencies.length&&(t.dependencies=n.clone(this._inner.dependencies)),this._inner.patterns.length){t.patterns=[];for(let e=0;e<this._inner.patterns.length;++e){const r=this._inner.patterns[e];r.regex?t.patterns.push({regex:r.regex.toString(),rule:r.rule.describe()}):t.patterns.push({schema:r.schema.describe(),rule:r.rule.describe()})}}return this._inner.renames.length>0&&(t.renames=n.clone(this._inner.renames)),t}assert(e,t,r){e=a.ref(e),n.assert(e.isContext||e.depth>1,"Cannot use assertions for root level references - use direct key rules instead"),r=r||"pass the assertion test";try{t=a.schema(this._currentJoi,t)}catch(e){throw e.hasOwnProperty("path")&&(e.message=e.message+"("+e.path+")"),e}const s=e.path[e.path.length-1],o=e.path.join(".");return this._test("assert",{schema:t,ref:e},(function(i,a,c){if(!t._validate(e(i),null,c,i).errors)return i;const l=n.merge({},a);return l.key=s,l.path=e.path,this.createError("object.assert",{ref:o,message:r},l,c)}))}type(e,t=e.name){n.assert("function"==typeof e,"type must be a constructor function");const r={name:t,ctor:e};return this._test("type",r,(function(t,n,s){return t instanceof e?t:this.createError("object.type",{type:r.name},n,s)}))}},c.safeParse=function(e){try{return JSON.parse(e)}catch(e){}return e},c.renameDefaults={alias:!1,multiple:!1,override:!1},c.groupChildren=function(e){e.sort();const t={};for(let r=0;r<e.length;++r){const s=e[r];n.assert("string"==typeof s,"children must be strings");const o=s.split(".")[0];(t[o]=t[o]||[]).push(s.substring(o.length+1))}return t},c.keysToLabels=function(e,t){const r=e._inner.children;if(!r)return t;const n=function(e){const t=r.find((t=>t.key===e));return t?t.schema._getLabel(e):e};return Array.isArray(t)?t.map(n):n(t)},c.with=function(e,t,r,n,s){if(void 0===e)return e;for(let e=0;e<t.length;++e){const o=t[e];if(!Object.prototype.hasOwnProperty.call(r,o)||void 0===r[o])return this.createError("object.with",{main:n.key,mainWithLabel:c.keysToLabels(this,n.key),peer:o,peerWithLabel:c.keysToLabels(this,o)},n,s)}return e},c.without=function(e,t,r,n,s){if(void 0===e)return e;for(let e=0;e<t.length;++e){const o=t[e];if(Object.prototype.hasOwnProperty.call(r,o)&&void 0!==r[o])return this.createError("object.without",{main:n.key,mainWithLabel:c.keysToLabels(this,n.key),peer:o,peerWithLabel:c.keysToLabels(this,o)},n,s)}return e},c.xor=function(e,t,r,n,s){const o=[];for(let e=0;e<t.length;++e){const n=t[e];Object.prototype.hasOwnProperty.call(r,n)&&void 0!==r[n]&&o.push(n)}if(1===o.length)return e;const i={peers:t,peersWithLabels:c.keysToLabels(this,t)};return 0===o.length?this.createError("object.missing",i,n,s):this.createError("object.xor",i,n,s)},c.or=function(e,t,r,n,s){for(let n=0;n<t.length;++n){const s=t[n];if(Object.prototype.hasOwnProperty.call(r,s)&&void 0!==r[s])return e}return this.createError("object.missing",{peers:t,peersWithLabels:c.keysToLabels(this,t)},n,s)},c.and=function(e,t,r,n,s){const o=[],i=[],a=t.length;for(let e=0;e<a;++e){const n=t[e];Object.prototype.hasOwnProperty.call(r,n)&&void 0!==r[n]?i.push(n):o.push(n)}if(o.length!==a&&i.length!==a)return this.createError("object.and",{present:i,presentWithLabels:c.keysToLabels(this,i),missing:o,missingWithLabels:c.keysToLabels(this,o)},n,s)},c.nand=function(e,t,r,s,o){const i=[];for(let e=0;e<t.length;++e){const n=t[e];Object.prototype.hasOwnProperty.call(r,n)&&void 0!==r[n]&&i.push(n)}const a=n.clone(t),l=a.splice(0,1)[0];return i.length===t.length?this.createError("object.nand",{main:l,mainWithLabel:c.keysToLabels(this,l),peers:a,peersWithLabels:c.keysToLabels(this,a)},s,o):null},e.exports=new c.Object},384:(e,t,r)=>{"use strict";const n=r(808),s=r(14);let o;const i=r(589),a=r(763),c=r(761),l=r(75),u=r(973),f={uriRegex:l.createUriRegex(),ipRegex:u.createIpRegex(["ipv4","ipv6","ipvfuture"],"optional"),guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5"},cidrPresences:["required","optional","forbidden"],normalizationForms:["NFC","NFD","NFKC","NFKD"]};f.String=class extends i{constructor(){super(),this._type="string",this._invalids.add("")}_base(e,t,r){if("string"==typeof e&&r.convert){if(this._flags.normalize&&(e=e.normalize(this._flags.normalize)),this._flags.case&&(e="upper"===this._flags.case?e.toLocaleUpperCase():e.toLocaleLowerCase()),this._flags.trim&&(e=e.trim()),this._inner.replacements)for(let t=0;t<this._inner.replacements.length;++t){const r=this._inner.replacements[t];e=e.replace(r.pattern,r.replacement)}if(this._flags.truncate)for(let t=0;t<this._tests.length;++t){const r=this._tests[t];if("max"===r.name){e=e.slice(0,r.arg);break}}this._flags.byteAligned&&e.length%2!=0&&(e=`0${e}`)}return{value:e,errors:"string"==typeof e?null:this.createError("string.base",{value:e},t,r)}}insensitive(){if(this._flags.insensitive)return this;const e=this.clone();return e._flags.insensitive=!0,e}creditCard(){return this._test("creditCard",void 0,(function(e,t,r){let n=e.length,s=0,o=1;for(;n--;){const t=e.charAt(n)*o;s+=t-9*(t>9),o^=3}return s%10==0&&s>0?e:this.createError("string.creditCard",{value:e},t,r)}))}regex(e,t){s.assert(e instanceof RegExp,"pattern must be a RegExp");const r={pattern:new RegExp(e.source,e.ignoreCase?"i":void 0)};"string"==typeof t?r.name=t:"object"==typeof t&&(r.invert=!!t.invert,t.name&&(r.name=t.name));const n=["string.regex",r.invert?".invert":"",r.name?".name":".base"].join("");return this._test("regex",r,(function(e,t,s){return r.pattern.test(e)^r.invert?e:this.createError(n,{name:r.name,pattern:r.pattern,value:e},t,s)}))}alphanum(){return this._test("alphanum",void 0,(function(e,t,r){return/^[a-zA-Z0-9]+$/.test(e)?e:this.createError("string.alphanum",{value:e},t,r)}))}token(){return this._test("token",void 0,(function(e,t,r){return/^\w+$/.test(e)?e:this.createError("string.token",{value:e},t,r)}))}email(e){return e&&(s.assert("object"==typeof e,"email options must be an object"),s.assert(void 0===e.checkDNS,"checkDNS option is not supported"),s.assert(void 0===e.tldWhitelist||"object"==typeof e.tldWhitelist,"tldWhitelist must be an array or object"),s.assert(void 0===e.minDomainAtoms||Number.isSafeInteger(e.minDomainAtoms)&&e.minDomainAtoms>0,"minDomainAtoms must be a positive integer"),s.assert(void 0===e.errorLevel||"boolean"==typeof e.errorLevel||Number.isSafeInteger(e.errorLevel)&&e.errorLevel>=0,"errorLevel must be a non-negative integer or boolean")),this._test("email",e,(function(t,n,s){o=o||r(196);try{const r=o.validate(t,e);if(!0===r||0===r)return t}catch(e){}return this.createError("string.email",{value:t},n,s)}))}ip(e={}){let t,r=f.ipRegex;if(s.assert("object"==typeof e,"options must be an object"),e.cidr?(s.assert("string"==typeof e.cidr,"cidr must be a string"),e.cidr=e.cidr.toLowerCase(),s.assert(s.contain(f.cidrPresences,e.cidr),"cidr must be one of "+f.cidrPresences.join(", ")),e.version||"optional"===e.cidr||(r=u.createIpRegex(["ipv4","ipv6","ipvfuture"],e.cidr))):e.cidr="optional",e.version){Array.isArray(e.version)||(e.version=[e.version]),s.assert(e.version.length>=1,"version must have at least 1 version specified"),t=[];for(let r=0;r<e.version.length;++r){let n=e.version[r];s.assert("string"==typeof n,"version at position "+r+" must be a string"),n=n.toLowerCase(),s.assert(u.versions[n],"version at position "+r+" must be one of "+Object.keys(u.versions).join(", ")),t.push(n)}t=s.unique(t),r=u.createIpRegex(t,e.cidr)}return this._test("ip",e,(function(n,s,o){return r.test(n)?n:t?this.createError("string.ipVersion",{value:n,cidr:e.cidr,version:t},s,o):this.createError("string.ip",{value:n,cidr:e.cidr},s,o)}))}uri(e){let t="",r=!1,n=!1,o=!1,i=f.uriRegex;if(e){s.assert("object"==typeof e,"options must be an object");const i=Object.keys(e).filter((e=>!["scheme","allowRelative","relativeOnly","allowQuerySquareBrackets"].includes(e)));if(s.assert(0===i.length,`options contain unknown keys: ${i}`),e.scheme){s.assert(e.scheme instanceof RegExp||"string"==typeof e.scheme||Array.isArray(e.scheme),"scheme must be a RegExp, String, or Array"),Array.isArray(e.scheme)||(e.scheme=[e.scheme]),s.assert(e.scheme.length>=1,"scheme must have at least 1 scheme specified");for(let r=0;r<e.scheme.length;++r){const n=e.scheme[r];s.assert(n instanceof RegExp||"string"==typeof n,"scheme at position "+r+" must be a RegExp or String"),t+=t?"|":"",n instanceof RegExp?t+=n.source:(s.assert(/[a-zA-Z][a-zA-Z0-9+-\.]*/.test(n),"scheme at position "+r+" must be a valid scheme"),t+=s.escapeRegex(n))}}e.allowRelative&&(r=!0),e.relativeOnly&&(n=!0),e.allowQuerySquareBrackets&&(o=!0)}return(t||r||n||o)&&(i=l.createUriRegex(t,r,n,o)),this._test("uri",e,(function(e,r,s){return i.test(e)?e:n?this.createError("string.uriRelativeOnly",{value:e},r,s):t?this.createError("string.uriCustomScheme",{scheme:t,value:e},r,s):this.createError("string.uri",{value:e},r,s)}))}isoDate(){return this._test("isoDate",void 0,(function(e,t,r){if(c._isIsoDate(e)){if(!r.convert)return e;const t=new Date(e);if(!isNaN(t.getTime()))return t.toISOString()}return this.createError("string.isoDate",{value:e},t,r)}))}guid(e){let t="";if(e&&e.version){Array.isArray(e.version)||(e.version=[e.version]),s.assert(e.version.length>=1,"version must have at least 1 valid version specified");const r=new Set;for(let n=0;n<e.version.length;++n){let o=e.version[n];s.assert("string"==typeof o,"version at position "+n+" must be a string"),o=o.toLowerCase();const i=f.guidVersions[o];s.assert(i,"version at position "+n+" must be one of "+Object.keys(f.guidVersions).join(", ")),s.assert(!r.has(i),"version at position "+n+" must not be a duplicate."),t+=i,r.add(i)}}const r=new RegExp(`^([\\[{\\(]?)[0-9A-F]{8}([:-]?)[0-9A-F]{4}\\2?[${t||"0-9A-F"}][0-9A-F]{3}\\2?[${t?"89AB":"0-9A-F"}][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$`,"i");return this._test("guid",e,(function(e,t,n){const s=r.exec(e);return s?f.guidBrackets[s[1]]!==s[s.length-1]?this.createError("string.guid",{value:e},t,n):e:this.createError("string.guid",{value:e},t,n)}))}hex(e={}){s.assert("object"==typeof e,"hex options must be an object"),s.assert(void 0===e.byteAligned||"boolean"==typeof e.byteAligned,"byteAligned must be boolean");const t=!0===e.byteAligned,r=/^[a-f0-9]+$/i,n=this._test("hex",r,(function(e,n,s){return r.test(e)?t&&e.length%2!=0?this.createError("string.hexAlign",{value:e},n,s):e:this.createError("string.hex",{value:e},n,s)}));return t&&(n._flags.byteAligned=!0),n}base64(e={}){s.assert("object"==typeof e,"base64 options must be an object"),s.assert(void 0===e.paddingRequired||"boolean"==typeof e.paddingRequired,"paddingRequired must be boolean");const t=(!1===e.paddingRequired?e.paddingRequired:(e.paddingRequired,1))?/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/:/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/;return this._test("base64",t,(function(e,r,n){return t.test(e)?e:this.createError("string.base64",{value:e},r,n)}))}dataUri(e={}){const t=/^data:[\w\/\+]+;((charset=[\w-]+|base64),)?(.*)$/,r=(!1===e.paddingRequired?e.paddingRequired:(e.paddingRequired,1))?/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/:/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/;return this._test("dataUri",t,(function(e,n,s){const o=e.match(t);if(o){if(!o[2])return e;if("base64"!==o[2])return e;if(r.test(o[3]))return e}return this.createError("string.dataUri",{value:e},n,s)}))}hostname(){const e=/^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\-]*[A-Za-z0-9])$/;return this._test("hostname",void 0,(function(t,r,s){return t.length<=255&&e.test(t)||n.isIPv6(t)?t:this.createError("string.hostname",{value:t},r,s)}))}normalize(e="NFC"){s.assert(s.contain(f.normalizationForms,e),"normalization form must be one of "+f.normalizationForms.join(", "));const t=this._test("normalize",e,(function(t,r,n){return n.convert||t===t.normalize(e)?t:this.createError("string.normalize",{value:t,form:e},r,n)}));return t._flags.normalize=e,t}lowercase(){const e=this._test("lowercase",void 0,(function(e,t,r){return r.convert||e===e.toLocaleLowerCase()?e:this.createError("string.lowercase",{value:e},t,r)}));return e._flags.case="lower",e}uppercase(){const e=this._test("uppercase",void 0,(function(e,t,r){return r.convert||e===e.toLocaleUpperCase()?e:this.createError("string.uppercase",{value:e},t,r)}));return e._flags.case="upper",e}trim(e=!0){if(s.assert("boolean"==typeof e,"option must be a boolean"),this._flags.trim&&e||!this._flags.trim&&!e)return this;let t;return e?t=this._test("trim",void 0,(function(e,t,r){return r.convert||e===e.trim()?e:this.createError("string.trim",{value:e},t,r)})):(t=this.clone(),t._tests=t._tests.filter((e=>"trim"!==e.name))),t._flags.trim=e,t}replace(e,t){"string"==typeof e&&(e=new RegExp(s.escapeRegex(e),"g")),s.assert(e instanceof RegExp,"pattern must be a RegExp"),s.assert("string"==typeof t,"replacement must be a String");const r=this.clone();return r._inner.replacements||(r._inner.replacements=[]),r._inner.replacements.push({pattern:e,replacement:t}),r}truncate(e){const t=void 0===e||!!e;if(this._flags.truncate===t)return this;const r=this.clone();return r._flags.truncate=t,r}},f.compare=function(e,t){return function(r,n){const o=a.isRef(r);return s.assert(Number.isSafeInteger(r)&&r>=0||o,"limit must be a positive integer or reference"),s.assert(!n||Buffer.isEncoding(n),"Invalid encoding:",n),this._test(e,r,(function(s,i,a){let c;if(o){if(c=r(i.reference||i.parent,a),!Number.isSafeInteger(c))return this.createError("string.ref",{ref:r.key},i,a)}else c=r;return t(s,c,n)?s:this.createError("string."+e,{limit:c,value:s,encoding:n},i,a)}))}},f.String.prototype.min=f.compare("min",((e,t,r)=>(r?Buffer.byteLength(e,r):e.length)>=t)),f.String.prototype.max=f.compare("max",((e,t,r)=>(r?Buffer.byteLength(e,r):e.length)<=t)),f.String.prototype.length=f.compare("length",((e,t,r)=>(r?Buffer.byteLength(e,r):e.length)===t)),f.String.prototype.uuid=f.String.prototype.guid,e.exports=new f.String},973:(e,t,r)=>{"use strict";const n=r(435),s={Ip:{cidrs:{ipv4:{required:"\\/(?:"+n.ipv4Cidr+")",optional:"(?:\\/(?:"+n.ipv4Cidr+"))?",forbidden:""},ipv6:{required:"\\/"+n.ipv6Cidr,optional:"(?:\\/"+n.ipv6Cidr+")?",forbidden:""},ipvfuture:{required:"\\/"+n.ipv6Cidr,optional:"(?:\\/"+n.ipv6Cidr+")?",forbidden:""}},versions:{ipv4:n.IPv4address,ipv6:n.IPv6address,ipvfuture:n.IPvFuture}}};s.Ip.createIpRegex=function(e,t){let r;for(let n=0;n<e.length;++n){const o=e[n];r?r+="|"+s.Ip.versions[o]+s.Ip.cidrs[o][t]:r="^(?:"+s.Ip.versions[o]+s.Ip.cidrs[o][t]}return new RegExp(r+")$")},e.exports=s.Ip},435:e=>{"use strict";const t={rfc3986:{},generate:function(){const e="|";t.rfc3986.ipv4Cidr="[0-9]|[1-2][0-9]|3[0-2]",t.rfc3986.ipv6Cidr="(?:0?0?[0-9]|0?[1-9][0-9]|1[01][0-9]|12[0-8])";const r="a-zA-Z0-9-\\._~",n="!\\$&'\\(\\)\\*\\+,;=",s=r+"%0-9A-Fa-f"+n+":@",o="(?:0?0?[0-9]|0?[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])";t.rfc3986.IPv4address="(?:"+o+"\\.){3}"+o;const i="[0-9A-Fa-f]{1,4}",a="(?:"+i+":"+i+"|"+t.rfc3986.IPv4address+")",c="(?:"+i+":){6}"+a,l="::(?:"+i+":){5}"+a,u="(?:"+i+")?::(?:"+i+":){4}"+a,f="(?:(?:"+i+":){0,1}"+i+")?::(?:"+i+":){3}"+a,h="(?:(?:"+i+":){0,2}"+i+")?::(?:"+i+":){2}"+a,p="(?:(?:"+i+":){0,3}"+i+")?::"+i+":"+a,d="(?:(?:"+i+":){0,4}"+i+")?::"+a;t.rfc3986.IPv6address="(?:"+c+e+l+e+u+e+f+e+h+e+p+e+d+"|(?:(?:[0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})?::[0-9A-Fa-f]{1,4}|(?:(?:[0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})?::)",t.rfc3986.IPvFuture="v[0-9A-Fa-f]+\\.["+r+n+":]+",t.rfc3986.scheme="[a-zA-Z][a-zA-Z0-9+-\\.]*";const g="(?:[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:]*@)?(?:\\[(?:"+t.rfc3986.IPv6address+e+t.rfc3986.IPvFuture+")\\]"+e+t.rfc3986.IPv4address+"|[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=]{0,255})(?::[0-9]*)?",m="(?:\\/[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*",y="\\/(?:[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]+"+m+")?";t.rfc3986.hierPart="(?:(?:\\/\\/"+g+m+")"+e+y+"|[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]+(?:\\/[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*)",t.rfc3986.relativeRef="(?:(?:\\/\\/"+g+m+")"+e+y+"|[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=@]+(?:\\/[a-zA-Z0-9-\\._~%0-9A-Fa-f!\\$&'\\(\\)\\*\\+,;=:@]*)*|)",t.rfc3986.query="["+s+"\\/\\?]*(?=#|$)",t.rfc3986.queryWithSquareBrackets="["+s+"\\[\\]\\/\\?]*(?=#|$)",t.rfc3986.fragment="["+s+"\\/\\?]*"}};t.generate(),e.exports=t.rfc3986},75:(e,t,r)=>{"use strict";const n=r(435),s={Uri:{createUriRegex:function(e,t,r,s){let o,i=n.scheme;if(r)o="(?:"+n.relativeRef+")";else{e&&(i="(?:"+e+")");const r="(?:"+i+":"+n.hierPart+")";o=t?"(?:"+r+"|"+n.relativeRef+")":r}return new RegExp("^"+o+"(?:\\?"+(s?n.queryWithSquareBrackets:n.query)+")?(?:#"+n.fragment+")?$")}}};e.exports=s.Uri},866:(e,t,r)=>{"use strict";const n=r(837),s=r(589),o=r(14),i={};i.Map=class extends Map{slice(){return new i.Map(this)}toString(){return n.inspect(this)}},i.Symbol=class extends s{constructor(){super(),this._type="symbol",this._inner.map=new i.Map}_base(e,t,r){if(r.convert){const n=this._inner.map.get(e);if(n&&(e=n),this._flags.allowOnly)return{value:e,errors:"symbol"==typeof e?null:this.createError("symbol.map",{map:this._inner.map},t,r)}}return{value:e,errors:"symbol"==typeof e?null:this.createError("symbol.base",null,t,r)}}map(e){e&&!e[Symbol.iterator]&&"object"==typeof e&&(e=Object.entries(e)),o.assert(e&&e[Symbol.iterator],"Iterable must be an iterable or object");const t=this.clone(),r=[];for(const n of e){o.assert(n&&n[Symbol.iterator],"Entry must be an iterable");const[e,s]=n;o.assert("object"!=typeof e&&"function"!=typeof e&&"symbol"!=typeof e,"Key must not be an object, function, or Symbol"),o.assert("symbol"==typeof s,"Value must be a Symbol"),t._inner.map.set(e,s),r.push(s)}return t.valid(...r)}describe(){const e=super.describe();return e.map=new Map(this._inner.map),e}},e.exports=new i.Symbol},368:(e,t)=>{"use strict";const r={};t.escapeJavaScript=function(e){if(!e)return"";let t="";for(let n=0;n<e.length;++n){const s=e.charCodeAt(n);r.isSafe(s)?t+=e[n]:t+=r.escapeJavaScriptChar(s)}return t},t.escapeHtml=function(e){if(!e)return"";let t="";for(let n=0;n<e.length;++n){const s=e.charCodeAt(n);r.isSafe(s)?t+=e[n]:t+=r.escapeHtmlChar(s)}return t},t.escapeJson=function(e){if(!e)return"";let t;return e.replace(/[<>&\u2028\u2029]/g,(e=>(t=e.charCodeAt(0),60===t?"\\u003c":62===t?"\\u003e":38===t?"\\u0026":8232===t?"\\u2028":"\\u2029")))},r.escapeJavaScriptChar=function(e){if(e>=256)return"\\u"+r.padLeft(""+e,4);const t=Buffer.from(String.fromCharCode(e),"ascii").toString("hex");return"\\x"+r.padLeft(t,2)},r.escapeHtmlChar=function(e){const t=r.namedHtml[e];if(void 0!==t)return t;if(e>=256)return"&#"+e+";";const n=Buffer.from(String.fromCharCode(e),"ascii").toString("hex");return"&#x"+r.padLeft(n,2)+";"},r.padLeft=function(e,t){for(;e.length<t;)e="0"+e;return e},r.isSafe=function(e){return void 0!==r.safeCharCodes[e]},r.namedHtml={38:"&amp;",60:"&lt;",62:"&gt;",34:"&quot;",160:"&nbsp;",162:"&cent;",163:"&pound;",164:"&curren;",169:"&copy;",174:"&reg;"},r.safeCharCodes=function(){const e={};for(let t=32;t<123;++t)(t>=97||t>=65&&t<=90||t>=48&&t<=57||32===t||46===t||44===t||45===t||58===t||95===t)&&(e[t]=null);return e}()},14:(e,t,r)=>{"use strict";const n=r(491),s=r(113),o=r(17),i=r(837),a=r(368),c={};t.clone=function(e,r){if("object"!=typeof e||null===e)return e;const n=(r=r||new Map).get(e);if(n)return n;let s,o=!1;if(Array.isArray(e))s=[],o=!0;else if(Buffer.isBuffer(e))s=Buffer.from(e);else if(e instanceof Date)s=new Date(e.getTime());else if(e instanceof RegExp)s=new RegExp(e);else{const t=Object.getPrototypeOf(e);t&&t.isImmutable?s=e:(s=Object.create(t),o=!0)}if(r.set(e,s),o){const n=Object.getOwnPropertyNames(e);for(let o=0;o<n.length;++o){const i=n[o],a=Object.getOwnPropertyDescriptor(e,i);a&&(a.get||a.set)?Object.defineProperty(s,i,a):s[i]=t.clone(e[i],r)}}return s},t.merge=function(e,r,n,s){if(t.assert(e&&"object"==typeof e,"Invalid target value: must be an object"),t.assert(null==r||"object"==typeof r,"Invalid source value: must be null, undefined, or an object"),!r)return e;if(Array.isArray(r)){t.assert(Array.isArray(e),"Cannot merge array onto an object"),!1===s&&(e.length=0);for(let n=0;n<r.length;++n)e.push(t.clone(r[n]));return e}const o=Object.keys(r);for(let i=0;i<o.length;++i){const a=o[i];if("__proto__"===a)continue;const c=r[a];c&&"object"==typeof c?!e[a]||"object"!=typeof e[a]||Array.isArray(e[a])!==Array.isArray(c)||c instanceof Date||Buffer.isBuffer(c)||c instanceof RegExp?e[a]=t.clone(c):t.merge(e[a],c,n,s):(null!=c||!1!==n)&&(e[a]=c)}return e},t.applyToDefaults=function(e,r,n){if(t.assert(e&&"object"==typeof e,"Invalid defaults value: must be an object"),t.assert(!r||!0===r||"object"==typeof r,"Invalid options value: must be true, falsy or an object"),!r)return null;const s=t.clone(e);return!0===r?s:t.merge(s,r,!0===n,!1)},t.cloneWithShallow=function(e,r){if(!e||"object"!=typeof e)return e;const n=c.store(e,r),s=t.clone(e);return c.restore(s,e,n),s},c.store=function(e,r){const n={};for(let s=0;s<r.length;++s){const o=r[s],i=t.reach(e,o);void 0!==i&&(n[o]=i,c.reachSet(e,o,void 0))}return n},c.restore=function(e,t,r){const n=Object.keys(r);for(let s=0;s<n.length;++s){const o=n[s];c.reachSet(e,o,r[o]),c.reachSet(t,o,r[o])}},c.reachSet=function(e,t,r){const n=t.split(".");let s=e;for(let e=0;e<n.length;++e){const t=n[e];e+1===n.length&&(s[t]=r),s=s[t]}},t.applyToDefaultsWithShallow=function(e,r,n){if(t.assert(e&&"object"==typeof e,"Invalid defaults value: must be an object"),t.assert(!r||!0===r||"object"==typeof r,"Invalid options value: must be true, falsy or an object"),t.assert(n&&Array.isArray(n),"Invalid keys"),!r)return null;const s=t.cloneWithShallow(e,n);if(!0===r)return s;const o=c.store(r,n);return t.merge(s,r,!1,!1),c.restore(s,r,o),s},t.deepEqual=function(e,r,n,s){if(e===r)return 0!==e||1/e==1/r;n=n||{prototype:!0};const o=typeof e;if(o!==typeof r)return!1;if("object"!==o||null===e||null===r)return e!=e&&r!=r;if(-1!==(s=s||[]).indexOf(e))return!0;if(s.push(e),Array.isArray(e)){if(!Array.isArray(r))return!1;if(!n.part&&e.length!==r.length)return!1;for(let s=0;s<e.length;++s){if(n.part){let o=!1;for(let i=0;i<r.length;++i)if(t.deepEqual(e[s],r[i],n)){o=!0;break}return o}if(!t.deepEqual(e[s],r[s],n))return!1}return!0}if(Buffer.isBuffer(e)){if(!Buffer.isBuffer(r))return!1;if(e.length!==r.length)return!1;for(let t=0;t<e.length;++t)if(e[t]!==r[t])return!1;return!0}if(e instanceof Date)return r instanceof Date&&e.getTime()===r.getTime();if(e instanceof RegExp)return r instanceof RegExp&&e.toString()===r.toString();if(n.prototype&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(r))return!1;const i=Object.getOwnPropertyNames(e);if(!n.part&&i.length!==Object.getOwnPropertyNames(r).length)return!1;for(let o=0;o<i.length;++o){const a=i[o],c=Object.getOwnPropertyDescriptor(e,a);if(c.get){if(!t.deepEqual(c,Object.getOwnPropertyDescriptor(r,a),n,s))return!1}else if(!t.deepEqual(e[a],r[a],n,s))return!1}return!0},t.unique=(e,t)=>{let r;if(t){r=[];const n=new Set;e.forEach((e=>{const s=e[t];n.has(s)||(n.add(s),r.push(e))}))}else r=Array.from(new Set(e));return r},t.mapToObject=function(e,t){if(!e)return null;const r={};for(let n=0;n<e.length;++n)t?e[n][t]&&(r[e[n][t]]=!0):r[e[n]]=!0;return r},t.intersect=function(e,r,n){if(!e||!r)return[];const s=[],o=Array.isArray(e)?t.mapToObject(e):e,i={};for(let e=0;e<r.length;++e)if(o[r[e]]&&!i[r[e]]){if(n)return r[e];s.push(r[e]),i[r[e]]=!0}return n?null:s},t.contain=function(e,r,n){let s,o,i=null;if("object"!=typeof e||"object"!=typeof r||Array.isArray(e)||Array.isArray(r)?r=[].concat(r):(i=r,r=Object.keys(r)),n=n||{},t.assert("string"==typeof e||"object"==typeof e,"Reference must be string or an object"),t.assert(r.length,"Values array cannot be empty"),n.deep){s=t.deepEqual;const e=n.hasOwnProperty("only"),r=n.hasOwnProperty("part");o={prototype:e?n.only:!!r&&!n.part,part:e?!n.only:!r||n.part}}else s=(e,t)=>e===t;let a=!1;const c=new Array(r.length);for(let e=0;e<c.length;++e)c[e]=0;if("string"==typeof e){let n="(";for(let e=0;e<r.length;++e){const s=r[e];t.assert("string"==typeof s,"Cannot compare string reference to non-string value"),n+=(e?"|":"")+t.escapeRegex(s)}const s=new RegExp(n+")","g");a=!!e.replace(s,((e,t)=>{const n=r.indexOf(t);return++c[n],""}))}else if(Array.isArray(e))for(let t=0;t<e.length;++t){let n=!1;for(let i=0;i<r.length&&!1===n;++i)n=s(r[i],e[t],o)&&i;!1!==n?++c[n]:a=!0}else{const t=Object.getOwnPropertyNames(e);for(let n=0;n<t.length;++n){const l=t[n],u=r.indexOf(l);if(-1!==u){if(i&&!s(i[l],e[l],o))return!1;++c[u]}else a=!0}}let l=!1;for(let e=0;e<c.length;++e)if(l=l||!!c[e],n.once&&c[e]>1||!n.part&&!c[e])return!1;return(!n.only||!a)&&l},t.flatten=function(e,r){const n=r||[];for(let r=0;r<e.length;++r)Array.isArray(e[r])?t.flatten(e[r],n):n.push(e[r]);return n},t.reach=function(e,r,n){if(!1===r||null==r)return e;"string"==typeof(n=n||{})&&(n={separator:n});const s=r.split(n.separator||".");let o=e;for(let e=0;e<s.length;++e){let i=s[e];if("-"===i[0]&&Array.isArray(o)&&(i=i.slice(1,i.length),i=o.length-i),!o||"object"!=typeof o&&"function"!=typeof o||!(i in o)||"object"!=typeof o&&!1===n.functions){t.assert(!n.strict||e+1===s.length,"Missing segment",i,"in reach path ",r),t.assert("object"==typeof o||!0===n.functions||"function"!=typeof o,"Invalid segment",i,"in reach path ",r),o=n.default;break}o=o[i]}return o},t.reachTemplate=function(e,r,n){return r.replace(/{([^}]+)}/g,((r,s)=>{const o=t.reach(e,s,n);return null==o?"":o}))},t.formatStack=function(e){const t=[];for(let r=0;r<e.length;++r){const n=e[r];t.push([n.getFileName(),n.getLineNumber(),n.getColumnNumber(),n.getFunctionName(),n.isConstructor()])}return t},t.formatTrace=function(e){const t=[];for(let r=0;r<e.length;++r){const n=e[r];t.push((n[4]?"new ":"")+n[3]+" ("+n[0]+":"+n[1]+":"+n[2]+")")}return t},t.callStack=function(e){const r=Error.prepareStackTrace;Error.prepareStackTrace=function(e,t){return t};const n={};Error.captureStackTrace(n,this);const s=n.stack;return Error.prepareStackTrace=r,t.formatStack(s).slice(1+e)},t.displayStack=function(e){const r=t.callStack(void 0===e?1:e+1);return t.formatTrace(r)},t.abortThrow=!1,t.abort=function(e,r){if(!0===t.abortThrow)throw new Error(e||"Unknown error");let n="";r||(n=t.displayStack(1).join("\n\t")),console.log("ABORT: "+e+"\n\t"+n),process.exit(1)},t.assert=function(e,...r){if(e)return;if(1===r.length&&r[0]instanceof Error)throw r[0];const s=r.filter((e=>""!==e)).map((e=>"string"==typeof e?e:e instanceof Error?e.message:t.stringify(e)));throw new n.AssertionError({message:s.join(" ")||"Unknown error",actual:!1,expected:!0,operator:"==",stackStartFunction:t.assert})},t.Bench=function(){this.ts=0,this.reset()},t.Bench.prototype.reset=function(){this.ts=t.Bench.now()},t.Bench.prototype.elapsed=function(){return t.Bench.now()-this.ts},t.Bench.now=function(){const e=process.hrtime();return 1e3*e[0]+e[1]/1e6},t.escapeRegex=function(e){return e.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")},t.base64urlEncode=function(e,r){return t.assert("string"==typeof e||Buffer.isBuffer(e),"value must be string or buffer"),(Buffer.isBuffer(e)?e:Buffer.from(e,r||"binary")).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")},t.base64urlDecode=function(e,t){if("string"!=typeof e)throw new Error("Value not a string");if(!/^[\w\-]*$/.test(e))throw new Error("Invalid character");const r=Buffer.from(e,"base64");return"buffer"===t?r:r.toString(t||"binary")},t.escapeHeaderAttribute=function(e){return t.assert(/^[ \w\!#\$%&'\(\)\*\+,\-\.\/\:;<\=>\?@\[\]\^`\{\|\}~\"\\]*$/.test(e),"Bad attribute value ("+e+")"),e.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')},t.escapeHtml=function(e){return a.escapeHtml(e)},t.escapeJavaScript=function(e){return a.escapeJavaScript(e)},t.escapeJson=function(e){return a.escapeJson(e)},t.once=function(e){if(e._hoekOnce)return e;let t=!1;const r=function(...r){t||(t=!0,e.apply(null,r))};return r._hoekOnce=!0,r},t.isInteger=Number.isSafeInteger,t.ignore=function(){},t.inherits=i.inherits,t.format=i.format,t.transform=function(e,r,n){t.assert(null==e||"object"==typeof e||Array.isArray(e),"Invalid source object: must be null, undefined, an object, or an array");const s="object"==typeof n&&null!==n&&n.separator||".";if(Array.isArray(e)){const s=[];for(let o=0;o<e.length;++o)s.push(t.transform(e[o],r,n));return s}const o={},i=Object.keys(r);for(let a=0;a<i.length;++a){const c=i[a],l=c.split(s),u=r[c];let f;t.assert("string"==typeof u,'All mappings must be "." delineated strings');let h=o;for(;l.length>1;)f=l.shift(),h[f]||(h[f]={}),h=h[f];f=l.shift(),h[f]=t.reach(e,u,n)}return o},t.uniqueFilename=function(e,t){t=t?"."!==t[0]?"."+t:t:"",e=o.resolve(e);const r=[Date.now(),process.pid,s.randomBytes(8).toString("hex")].join("-")+t;return o.join(e,r)},t.stringify=function(...e){try{return JSON.stringify.apply(null,e)}catch(e){return"[Cannot display object: "+e.message+"]"}},t.shallow=function(e){return Object.assign({},e)},t.wait=function(e){return new Promise((t=>setTimeout(t,e)))},t.block=function(){return new Promise(t.ignore)}},840:(e,t,r)=>{"use strict";const n=r(837),s=r(289)("node_expat"),o=r(781).Stream,i=function(e){this.encoding=e,this._getNewParser(),this.parser.emit=this.emit.bind(this),this.writable=!0,this.readable=!0};n.inherits(i,o),i.prototype._getNewParser=function(){this.parser=new s.Parser(this.encoding)},i.prototype.parse=function(e,t){return this.parser.parse(e,t)},i.prototype.setEncoding=function(e){return this.encoding=e,this.parser.setEncoding(this.encoding)},i.prototype.setUnknownEncoding=function(e,t){return this.parser.setUnknownEncoding(e,t)},i.prototype.getError=function(){return this.parser.getError()},i.prototype.stop=function(){return this.parser.stop()},i.prototype.pause=function(){return this.stop()},i.prototype.resume=function(){return this.parser.resume()},i.prototype.destroy=function(){this.parser.stop(),this.end()},i.prototype.destroySoon=function(){this.destroy()},i.prototype.write=function(e){let t,r;try{r=this.parse(e),r||(t=this.getError())}catch(e){t=e}return t&&(this.emit("error",t),this.emit("close")),r},i.prototype.end=function(e){let t,r;try{r=this.parse(e||"",!0),r||(t=this.getError())}catch(e){t=e}t?this.emit("error",t):this.emit("end"),this.emit("close")},i.prototype.reset=function(){return this.parser.reset()},i.prototype.getCurrentLineNumber=function(){return this.parser.getCurrentLineNumber()},i.prototype.getCurrentColumnNumber=function(){return this.parser.getCurrentColumnNumber()},i.prototype.getCurrentByteIndex=function(){return this.parser.getCurrentByteIndex()},t.Parser=i,t.createParser=function(e){const t=new i;return e&&t.on("startElement",e),t}},22:(e,t,r)=>{"use strict";const n=r(157),s={};e.exports=class{constructor(){this._items=[],this.nodes=[]}add(e,t){const r=[].concat((t=t||{}).before||[]),s=[].concat(t.after||[]),o=t.group||"?",i=t.sort||0;n.assert(!r.includes(o),`Item cannot come before itself: ${o}`),n.assert(!r.includes("?"),"Item cannot come before unassociated items"),n.assert(!s.includes(o),`Item cannot come after itself: ${o}`),n.assert(!s.includes("?"),"Item cannot come after unassociated items"),[].concat(e).forEach(((e,t)=>{const n={seq:this._items.length,sort:i,before:r,after:s,group:o,node:e};this._items.push(n)}));const a=this._sort();return n.assert(!a,"item","?"!==o?`added into group ${o}`:"","created a dependencies error"),this.nodes}merge(e){e=[].concat(e);for(let t=0;t<e.length;++t){const r=e[t];if(r)for(let e=0;e<r._items.length;++e){const t=Object.assign({},r._items[e]);this._items.push(t)}}this._items.sort(s.mergeSort);for(let e=0;e<this._items.length;++e)this._items[e].seq=e;const t=this._sort();return n.assert(!t,"merge created a dependencies error"),this.nodes}_sort(){const e={},t=Object.create(null),r=Object.create(null);for(let n=0;n<this._items.length;++n){const s=this._items[n],o=s.seq,i=s.group;r[i]=r[i]||[],r[i].push(o),e[o]=s.before;const a=s.after;for(let e=0;e<a.length;++e)t[a[e]]=(t[a[e]]||[]).concat(o)}let n=Object.keys(e);for(let t=0;t<n.length;++t){const s=n[t],o=[],i=Object.keys(e[s]);for(let t=0;t<i.length;++t){const n=e[s][i[t]];r[n]=r[n]||[];for(let e=0;e<r[n].length;++e)o.push(r[n][e])}e[s]=o}const s=Object.keys(t);for(let n=0;n<s.length;++n){const o=s[n];if(r[o])for(let n=0;n<r[o].length;++n){const s=r[o][n];e[s]=e[s].concat(t[o])}}let o;const i={};n=Object.keys(e);for(let t=0;t<n.length;++t){const r=n[t];o=e[r];for(let e=0;e<o.length;++e)i[o[e]]=(i[o[e]]||[]).concat(r)}const a={},c=[];for(let e=0;e<this._items.length;++e){let t=e;if(i[e]){t=null;for(let e=0;e<this._items.length;++e){if(!0===a[e])continue;i[e]||(i[e]=[]);const r=i[e].length;let n=0;for(let t=0;t<r;++t)a[i[e][t]]&&++n;if(n===r){t=e;break}}}null!==t&&(a[t]=!0,c.push(t))}if(c.length!==this._items.length)return new Error("Invalid dependencies");const l={};for(let e=0;e<this._items.length;++e){const t=this._items[e];l[t.seq]=t}const u=[];this._items=c.map((e=>{const t=l[e];return u.push(t.node),t})),this.nodes=u}},s.mergeSort=(e,t)=>e.sort===t.sort?0:e.sort<t.sort?-1:1},8:e=>{"use strict";const t={arrayType:Symbol("array"),bufferType:Symbol("buffer"),dateType:Symbol("date"),errorType:Symbol("error"),genericType:Symbol("generic"),mapType:Symbol("map"),regexType:Symbol("regex"),setType:Symbol("set"),weakMapType:Symbol("weak-map"),weakSetType:Symbol("weak-set"),mismatched:Symbol("mismatched")};t.typeMap={"[object Array]":t.arrayType,"[object Date]":t.dateType,"[object Error]":t.errorType,"[object Map]":t.mapType,"[object RegExp]":t.regexType,"[object Set]":t.setType,"[object WeakMap]":t.weakMapType,"[object WeakSet]":t.weakSetType},t.SeenEntry=class{constructor(e,t){this.obj=e,this.ref=t}isSame(e,t){return this.obj===e&&this.ref===t}},t.getInternalType=function(e){const{typeMap:r,bufferType:n,genericType:s}=t;return e instanceof Buffer?n:r[Object.prototype.toString.call(e)]||s},t.getSharedType=function(e,r,n){if(n)return Object.getPrototypeOf(e)!==Object.getPrototypeOf(r)?t.mismatched:t.getInternalType(e);const s=t.getInternalType(e);return s!==t.getInternalType(r)?t.mismatched:s},t.valueOf=function(e){const t=e.valueOf;if(void 0===t)return e;try{return t.call(e)}catch(e){return e}},t.hasOwnEnumerableProperty=function(e,t){return Object.prototype.propertyIsEnumerable.call(e,t)},t.isSetSimpleEqual=function(e,t){for(const r of e)if(!t.has(r))return!1;return!0},t.isDeepEqualObj=function(e,r,n,s,o){const{isDeepEqual:i,valueOf:a,hasOwnEnumerableProperty:c}=t,{keys:l,getOwnPropertySymbols:u}=Object;if(e===t.arrayType){if(!s.part){if(r.length!==n.length)return!1;for(let e=0;e<r.length;++e)if(!i(r[e],n[e],s,o))return!1;return!0}for(let e=0;e<r.length;++e){const t=r[e];for(let e=0;e<n.length;++e)if(i(t,n[e],s,o))return!0}}else if(e===t.setType){if(r.size!==n.size)return!1;if(!t.isSetSimpleEqual(r,n)){const e=new Set(n);for(const t of r){if(e.delete(t))continue;let r=!1;for(const n of e)if(i(t,n,s,o)){e.delete(n),r=!0;break}if(!r)return!1}}}else if(e===t.mapType){if(r.size!==n.size)return!1;for(const[e,t]of r){if(void 0===t&&!n.has(e))return!1;if(!i(t,n.get(e),s,o))return!1}}else if(e===t.errorType&&(r.name!==n.name||r.message!==n.message))return!1;const f=a(r),h=a(n);if((r!==f||n!==h)&&!i(f,h,s,o))return!1;const p=l(r);if(!s.part&&p.length!==l(n).length)return!1;for(let e=0;e<p.length;++e){const t=p[e];if(!c(n,t))return!1;if(!i(r[t],n[t],s,o))return!1}if(s.symbols){const e=u(r),t=new Set(u(n));for(let a=0;a<e.length;++a){const l=e[a];if(c(r,l)){if(!c(n,l))return!1;if(!i(r[l],n[l],s,o))return!1}else if(c(n,l))return!1;t.delete(l)}for(const e of t)if(c(n,e))return!1}return!0},t.isDeepEqual=function(e,r,n,s){if(e===r)return 0!==e||1/e==1/r;const o=typeof e;if(o!==typeof r)return!1;if("object"!==o||null===e||null===r)return e!=e&&r!=r;const i=t.getSharedType(e,r,!!n.prototype);switch(i){case t.bufferType:return Buffer.prototype.equals.call(e,r);case t.regexType:return e.toString()===r.toString();case t.mismatched:return!1}for(let t=s.length-1;t>=0;--t)if(s[t].isSame(e,r))return!0;s.push(new t.SeenEntry(e,r));try{return!!t.isDeepEqualObj(i,e,r,n,s)}finally{s.pop()}},e.exports=function(e,r,n){return n=n||{prototype:!0},!!t.isDeepEqual(e,r,n,[])}},844:(e,t)=>{"use strict";const r={};t.escapeHtml=function(e){if(!e)return"";let t="";for(let n=0;n<e.length;++n){const s=e.charCodeAt(n);r.isSafe(s)?t+=e[n]:t+=r.escapeHtmlChar(s)}return t},t.escapeJson=function(e){if(!e)return"";let t;return e.replace(/[<>&\u2028\u2029]/g,(e=>(t=e.charCodeAt(0),60===t?"\\u003c":62===t?"\\u003e":38===t?"\\u0026":8232===t?"\\u2028":"\\u2029")))},r.escapeHtmlChar=function(e){const t=r.namedHtml[e];return void 0!==t?t:e>=256?"&#"+e+";":`&#x${Buffer.from(String.fromCharCode(e),"ascii").toString("hex")};`},r.isSafe=function(e){return void 0!==r.safeCharCodes[e]},r.namedHtml={38:"&amp;",60:"&lt;",62:"&gt;",34:"&quot;",160:"&nbsp;",162:"&cent;",163:"&pound;",164:"&curren;",169:"&copy;",174:"&reg;"},r.safeCharCodes=function(){const e={};for(let t=32;t<123;++t)(t>=97||t>=65&&t<=90||t>=48&&t<=57||32===t||46===t||44===t||45===t||58===t||95===t)&&(e[t]=null);return e}()},157:(e,t,r)=>{"use strict";const n=r(491),s=r(113),o=r(17),i=r(8),a=r(844),c={};t.deepEqual=i,t.clone=function(e,r={},n=null){if("object"!=typeof e||null===e)return e;const s=n||new Map,o=s.get(e);if(o)return o;let i,a=!1;const l=Array.isArray(e);if(l)i=[],a=!0;else if(Buffer.isBuffer(e))i=Buffer.from(e);else if(e instanceof Date)i=new Date(e.getTime());else if(e instanceof RegExp)i=new RegExp(e);else if(!1!==r.prototype){const t=Object.getPrototypeOf(e);t&&t.isImmutable?i=e:(i=Object.create(t),a=!0)}else i={},a=!0;if(s.set(e,i),a){const n=c.keys(e,r);for(let o=0;o<n.length;++o){const a=n[o];if(l&&"length"===a)continue;const c=Object.getOwnPropertyDescriptor(e,a);c&&(c.get||c.set)?Object.defineProperty(i,a,c):Object.defineProperty(i,a,{enumerable:!c||c.enumerable,writable:!0,configurable:!0,value:t.clone(e[a],r,s)})}l&&(i.length=e.length)}return i},c.keys=function(e,t={}){return t.symbols?Reflect.ownKeys(e):Object.getOwnPropertyNames(e)},t.merge=function(e,r,n,s){if(t.assert(e&&"object"==typeof e,"Invalid target value: must be an object"),t.assert(null==r||"object"==typeof r,"Invalid source value: must be null, undefined, or an object"),!r)return e;if(Array.isArray(r)){t.assert(Array.isArray(e),"Cannot merge array onto an object"),!1===s&&(e.length=0);for(let n=0;n<r.length;++n)e.push(t.clone(r[n]));return e}const o=c.keys(r);for(let i=0;i<o.length;++i){const a=o[i];if("__proto__"===a||!Object.prototype.propertyIsEnumerable.call(r,a))continue;const c=r[a];c&&"object"==typeof c?!e[a]||"object"!=typeof e[a]||Array.isArray(e[a])!==Array.isArray(c)||c instanceof Date||Buffer.isBuffer(c)||c instanceof RegExp?e[a]=t.clone(c):t.merge(e[a],c,n,s):(null!=c||!1!==n)&&(e[a]=c)}return e},t.applyToDefaults=function(e,r,n){if(t.assert(e&&"object"==typeof e,"Invalid defaults value: must be an object"),t.assert(!r||!0===r||"object"==typeof r,"Invalid options value: must be true, falsy or an object"),!r)return null;const s=t.clone(e);return!0===r?s:t.merge(s,r,!0===n,!1)},t.cloneWithShallow=function(e,r,n){if(!e||"object"!=typeof e)return e;const s=c.store(e,r),o=t.clone(e,n);return c.restore(o,e,s),o},c.store=function(e,r){const n=new Map;for(let s=0;s<r.length;++s){const o=r[s],i=t.reach(e,o);"object"!=typeof i&&"function"!=typeof i||(n.set(o,i),c.reachSet(e,o,void 0))}return n},c.restore=function(e,t,r){for(const[n,s]of r)c.reachSet(e,n,s),c.reachSet(t,n,s)},c.reachSet=function(e,t,r){const n=Array.isArray(t)?t:t.split(".");let s=e;for(let e=0;e<n.length;++e){const t=n[e];e+1===n.length&&(s[t]=r),s=s[t]}},t.applyToDefaultsWithShallow=function(e,r,n){if(t.assert(e&&"object"==typeof e,"Invalid defaults value: must be an object"),t.assert(!r||!0===r||"object"==typeof r,"Invalid options value: must be true, falsy or an object"),t.assert(n&&Array.isArray(n),"Invalid keys"),!r)return null;const s=t.cloneWithShallow(e,n);if(!0===r)return s;const o=c.store(r,n);return t.merge(s,r,!1,!1),c.restore(s,r,o),s},t.intersect=function(e,t,r){if(!e||!t)return r?null:[];const n=[],s=Array.isArray(e)?new Set(e):e,o=new Set;for(const e of t)if(c.has(s,e)&&!o.has(e)){if(r)return e;n.push(e),o.add(e)}return r?null:n},c.has=function(e,t){return"function"==typeof e.has?e.has(t):void 0!==e[t]},t.contain=function(e,r,n={}){let s,o,i=null;if("object"!=typeof e||"object"!=typeof r||Array.isArray(e)||Array.isArray(r))r=[].concat(r);else{i=r;const e=Object.getOwnPropertySymbols(r).filter(Object.prototype.propertyIsEnumerable.bind(r));r=[...Object.keys(r),...e]}if(t.assert("string"==typeof e||"object"==typeof e,"Reference must be string or an object"),t.assert(r.length,"Values array cannot be empty"),n.deep){s=t.deepEqual;const e=n.hasOwnProperty("only"),r=n.hasOwnProperty("part");o={prototype:e?n.only:!!r&&!n.part,part:e?!n.only:!!r&&n.part}}else s=(e,t)=>e===t;let a=!1;const l=new Array(r.length);for(let e=0;e<l.length;++e)l[e]=0;if("string"==typeof e){let n="(";for(let e=0;e<r.length;++e){const s=r[e];t.assert("string"==typeof s,"Cannot compare string reference to non-string value"),n+=(e?"|":"")+t.escapeRegex(s)}const s=new RegExp(n+")","g");a=!!e.replace(s,((e,t)=>{const n=r.indexOf(t);return++l[n],""}))}else if(Array.isArray(e)){const t=!(!n.only||!n.once);if(t&&e.length!==r.length)return!1;for(let n=0;n<e.length;++n){let i=!1;for(let a=0;a<r.length&&!1===i;++a)t&&0!==l[a]||(i=s(r[a],e[n],o)&&a);!1!==i?++l[i]:a=!0}}else{const t=c.keys(e,n);for(let n=0;n<t.length;++n){const c=t[n],u=r.indexOf(c);if(-1!==u){if(i&&!s(i[c],e[c],o))return!1;++l[u]}else a=!0}}if(n.only&&(a||!n.once))return!a;let u=!1;for(let e=0;e<l.length;++e)if(u=u||!!l[e],n.once&&l[e]>1||!n.part&&!l[e])return!1;return u},t.flatten=function(e,r){const n=r||[];for(let r=0;r<e.length;++r)Array.isArray(e[r])?t.flatten(e[r],n):n.push(e[r]);return n},t.reach=function(e,r,n){if(!1===r||null==r)return e;"string"==typeof(n=n||{})&&(n={separator:n});const s=Array.isArray(r);t.assert(!s||!n.separator,"Separator option no valid for array-based chain");const o=s?r:r.split(n.separator||".");let i=e;for(let e=0;e<o.length;++e){let s=o[e];if(Array.isArray(i)){const e=Number(s);Number.isInteger(e)&&e<0&&(s=i.length+e)}if(!i||"object"!=typeof i&&"function"!=typeof i||!(s in i)||"object"!=typeof i&&!1===n.functions){t.assert(!n.strict||e+1===o.length,"Missing segment",s,"in reach path ",r),t.assert("object"==typeof i||!0===n.functions||"function"!=typeof i,"Invalid segment",s,"in reach path ",r),i=n.default;break}i=i[s]}return i},t.reachTemplate=function(e,r,n){return r.replace(/{([^}]+)}/g,((r,s)=>{const o=t.reach(e,s,n);return null==o?"":o}))},t.assert=function(e,...r){if(e)return;if(1===r.length&&r[0]instanceof Error)throw r[0];const s=r.filter((e=>""!==e)).map((e=>"string"==typeof e?e:e instanceof Error?e.message:t.stringify(e)));throw new n.AssertionError({message:s.join(" ")||"Unknown error",actual:!1,expected:!0,operator:"==",stackStartFunction:t.assert})},t.Bench=function(){this.ts=0,this.reset()},t.Bench.prototype.reset=function(){this.ts=t.Bench.now()},t.Bench.prototype.elapsed=function(){return t.Bench.now()-this.ts},t.Bench.now=function(){const e=process.hrtime();return 1e3*e[0]+e[1]/1e6},t.escapeRegex=function(e){return e.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")},t.escapeHeaderAttribute=function(e){return t.assert(/^[ \w\!#\$%&'\(\)\*\+,\-\.\/\:;<\=>\?@\[\]\^`\{\|\}~\"\\]*$/.test(e),"Bad attribute value ("+e+")"),e.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')},t.escapeHtml=function(e){return a.escapeHtml(e)},t.escapeJson=function(e){return a.escapeJson(e)},t.once=function(e){if(e._hoekOnce)return e;let t=!1;const r=function(...r){t||(t=!0,e(...r))};return r._hoekOnce=!0,r},t.ignore=function(){},t.uniqueFilename=function(e,t){t=t?"."!==t[0]?"."+t:t:"",e=o.resolve(e);const r=[Date.now(),process.pid,s.randomBytes(8).toString("hex")].join("-")+t;return o.join(e,r)},t.stringify=function(...e){try{return JSON.stringify.apply(null,e)}catch(e){return"[Cannot display object: "+e.message+"]"}},t.wait=function(e){return new Promise((t=>setTimeout(t,e)))},t.block=function(){return new Promise(t.ignore)}},501:(e,t,r)=>{e.exports=r(172)},172:(e,t,r)=>{var n=e.exports;n.toJson=r(227),n.toXml=r(948)},948:(e,t,r)=>{var n=r(112);function s(e){var t={sanitize:!1,ignoreNull:!1};if(e)for(var r in e)t[r]=e[r];this.options=t,this.xml="",this.tagIncomplete=!1}e.exports=function(e,t){e instanceof Buffer&&(e=e.toString());var r=null;if("string"==typeof e)try{r=JSON.parse(e)}catch(e){throw new Error("The JSON structure is invalid")}else r=e;var n=new s(t);return n.parse(r),n.xml},s.prototype.parse=function(e){if(e){for(var t=this,r=Object.keys(e),n=r.length,s=0;s<n;s++){var o=e[c=r[s]],i=Array.isArray(o),a=typeof o;("string"==a||"number"==a||"boolean"==a||i)&&(i?o:[o]).forEach((function(e){"object"!=typeof e&&("$t"==c?t.addTextContent(e):t.addAttr(c,e))}))}for(s=0;s<n;s++){var c=r[s];if(Array.isArray(e[c]))for(var l=e[c],u=l.length,f=0;f<u;f++){var h=l[f];"object"==typeof h&&(t.openTag(c),t.parse(h),t.closeTag(c))}else"object"!=typeof e[c]||t.options.ignoreNull&&null===e[c]||(t.openTag(c),t.parse(e[c]),t.closeTag(c))}}},s.prototype.openTag=function(e){this.completeTag(),this.xml+="<"+e,this.tagIncomplete=!0},s.prototype.addAttr=function(e,t){this.options.sanitize&&(t=n.sanitize(t,!1,!0)),this.xml+=" "+e+'="'+t+'"'},s.prototype.addTextContent=function(e){this.completeTag();var t=this.options.sanitize?n.sanitize(e):e;this.xml+=t},s.prototype.closeTag=function(e){this.completeTag(),this.xml+="</"+e+">"},s.prototype.completeTag=function(){this.tagIncomplete&&(this.xml+=">",this.tagIncomplete=!1)}},112:(e,t)=>{var r={"&":"&amp;","<":"&lt;",">":"&gt;"},n={"&amp;":"&","&#35;":"#","&lt;":"<","&gt;":">","&#40;":"(","&#41;":")","&quot;":'"',"&apos;":"'","&#31;":""},s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"};t.sanitize=function(e,t,o){if("string"!=typeof e)return e;var i=t?n:o?s:r;return Object.keys(i).forEach((function(t){e=e.replace(new RegExp(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1"),"g"),i[t])})),e}},227:(e,t,r)=>{var n=r(840),s=(r(112),r(456)),o=r(264),i={},a={},c=[],l=null,u={};function f(e,t){if(l=e,u.coerce)for(var r in t)t[r]=d(t[r],r);if(e in a)if(a[e]instanceof Array)a[e].push(t);else{var n=[a[e]];n.push(t),a[e]=n}else u.arrayNotation||u.forceArrays[e]?a[e]=[t]:a[e]=t;c.push(a),a=a[e]instanceof Array?a[e][a[e].length-1]:a[e]}function h(e){a[g()]=(a[g()]||"")+e}function p(e){a[g()]&&(u.trim&&(a[g()]=a[g()].trim()),a[g()]=d(a[g()],e)),l!==e&&delete a[g()];var t=c.pop();u.reversible||g()in a&&1==Object.keys(a).length&&(t[e]instanceof Array?t[e].push(t[e].pop()[g()]):t[e]=a[g()]),a=t}function d(e,t){if(!u.coerce||""===e.trim())return e;if("function"==typeof u.coerce[t])return u.coerce[t](e);var r=Number(e);if(!isNaN(r))return r;var n=e.toLowerCase();return"true"==n||"false"!=n&&e}function g(){return u.alternateTextNode?"string"==typeof u.alternateTextNode?u.alternateTextNode:"_t":"$t"}e.exports=function(e,t){t=t||{};var r=new n.Parser("UTF-8");r.on("startElement",f),r.on("text",h),r.on("endElement",p),i=a={},c=[],l=null;var d={object:s.boolean().default(!1),reversible:s.boolean().default(!1),coerce:s.alternatives([s.boolean(),s.object()]).default(!1),sanitize:s.boolean().default(!0),trim:s.boolean().default(!0),arrayNotation:s.alternatives([s.boolean(),s.array()]).default(!1),alternateTextNode:[s.boolean().default(!1),s.string().default(!1)]},g=s.validate(t,d);if(o.assert(null===g.error,g.error),(u=g.value).forceArrays={},Array.isArray(u.arrayNotation)&&(u.arrayNotation.forEach((function(e){u.forceArrays[e]=!0})),u.arrayNotation=!1),!r.parse(e))throw new Error("There are errors in your xml file: "+r.getError());if(u.object)return i;var m=JSON.stringify(i);return m.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}},491:e=>{"use strict";e.exports=require("assert")},113:e=>{"use strict";e.exports=require("crypto")},147:e=>{"use strict";e.exports=require("fs")},808:e=>{"use strict";e.exports=require("net")},17:e=>{"use strict";e.exports=require("path")},477:e=>{"use strict";e.exports=require("punycode")},781:e=>{"use strict";e.exports=require("stream")},837:e=>{"use strict";e.exports=require("util")},45:e=>{"use strict";e.exports={i8:"13.7.0"}}},n={};function s(e){var t=n[e];if(void 0!==t)return t.exports;var o=n[e]={exports:{}};return r[e](o,o.exports,s),o.exports}e=s(147),t=s(501),e.readFile("/downloads/structuredsight.WordPress.2021-12-24.xml",(function(e,r){var n=t.toJson(r);console.log("to json ->",n)}))})();